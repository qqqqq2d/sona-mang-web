(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function t(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerPolicy&&(s.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?s.credentials="include":n.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(n){if(n.ep)return;n.ep=!0;const s=t(n);fetch(n.href,s)}})();const as=8,Kt=2,ls=3,An=10;var z=(r=>(r.JOIN_REQUEST="JOIN_REQUEST",r.JOIN_ACCEPT="JOIN_ACCEPT",r.JOIN_REJECT="JOIN_REJECT",r.PLAYER_LIST="PLAYER_LIST",r.PLAYER_READY="PLAYER_READY",r.PLAYER_LEFT="PLAYER_LEFT",r.CREATE_GAME="CREATE_GAME",r.LIST_GAMES="LIST_GAMES",r.GAMES_LIST="GAMES_LIST",r.START_GAME_REQUEST="START_GAME_REQUEST",r.GAME_START="GAME_START",r.NEW_COMBO="NEW_COMBO",r.RETURN_TO_LOBBY="RETURN_TO_LOBBY",r.TURN_START="TURN_START",r.TURN_INPUT="TURN_INPUT",r.TURN_SUBMIT="TURN_SUBMIT",r.TURN_RESULT="TURN_RESULT",r.PLAYER_UPDATE="PLAYER_UPDATE",r.PLAYER_ELIMINATED="PLAYER_ELIMINATED",r.GAME_OVER="GAME_OVER",r.PING="PING",r.PONG="PONG",r.ERROR="ERROR",r))(z||{}),re=(r=>(r.CONNECTED="CONNECTED",r.READY="READY",r.ALIVE="ALIVE",r.ELIMINATED="ELIMINATED",r.DISCONNECTED="DISCONNECTED",r))(re||{}),Wt=(r=>(r.CORRECT="CORRECT",r.WRONG="WRONG",r.ALREADY_USED="ALREADY_USED",r.TIMEOUT="TIMEOUT",r))(Wt||{}),v=(r=>(r.MAIN_MENU="MAIN_MENU",r.SERVER_CONNECT="SERVER_CONNECT",r.CONNECTING="CONNECTING",r.LOBBY_CREATE="LOBBY_CREATE",r.LOBBY_JOIN="LOBBY_JOIN",r.LOBBY_WAITING="LOBBY_WAITING",r.PLAYING="PLAYING",r.SPECTATING="SPECTATING",r.GAME_OVER="GAME_OVER",r.DISCONNECTED="DISCONNECTED",r))(v||{});function us(){return{phase:"MAIN_MENU",connected:!1,connectionRetry:0,connectionError:"",playerId:"",playerName:"Player",gameId:"",isHost:!1,serverAddress:"localhost:8080",gameName:"My Game",players:[],hostId:"",currentCombo:"",currentTurnPlayerId:"",localInput:"",turnTimer:An,turnDuration:An,wrongAnswerFlash:!1,wrongAnswerOpacity:0,wrongAnswerOpacityUp:!0,correctAnswerFlash:!1,correctAnswerOpacity:0,timeoutFlash:!1,timeoutOpacity:0,timeoutOpacityUp:!0,pendingCorrectSound:!1,pendingWrongSound:!1,menuSelectedIndex:0,inputFocus:0,prevSelectedIndex:-1,menuTransitionTime:0,menuPressedIndex:-1,menuHighlightOpacity:[0,0],pressedButton:null,buttonHighlightOpacity:{},animTime:0,gamesList:[],joiningGame:!1,failedCombos:[],showFailedCombos:!1,failedCombosScroll:0}}function Gt(r){return r.players.find(e=>e.id===r.playerId)}function cs(r){return r.players.find(e=>e.id===r.currentTurnPlayerId)}function si(r){const e=Gt(r);return!!e&&e.id===r.currentTurnPlayerId&&e.state===re.ALIVE}function nn(r){return r.players.filter(e=>e.state===re.READY).length}function Fe(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function jn(r,e){r.prototype=Object.create(e.prototype),r.prototype.constructor=r,r.__proto__=e}/*!
 * GSAP 3.14.2
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var be={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},Nt={duration:.5,overwrite:!1,delay:0},rn,te,W,ve=1e8,F=1/ve,Bi=Math.PI*2,fs=Bi/4,hs=0,Kn=Math.sqrt,ds=Math.cos,_s=Math.sin,ee=function(e){return typeof e=="string"},q=function(e){return typeof e=="function"},$e=function(e){return typeof e=="number"},sn=function(e){return typeof e>"u"},Be=function(e){return typeof e=="object"},ue=function(e){return e!==!1},on=function(){return typeof window<"u"},li=function(e){return q(e)||ee(e)},Qn=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},oe=Array.isArray,ps=/random\([^)]+\)/g,gs=/,\s*/g,In=/(?:-?\.?\d|\.)+/gi,Zn=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,Ot=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,Ii=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,er=/[+-]=-?[.\d]+/,ms=/[^,'"\[\]\s]+/gi,ys=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,H,Pe,Gi,an,we={},gi={},tr,ir=function(e){return(gi=Pt(e,we))&&de},ln=function(e,t){return console.warn("Invalid property",e,"set to",t,"Missing plugin? gsap.registerPlugin()")},Qt=function(e,t){return!t&&console.warn(e)},nr=function(e,t){return e&&(we[e]=t)&&gi&&(gi[e]=t)||we},Zt=function(){return 0},Ts={suppressEvents:!0,isStart:!0,kill:!1},hi={suppressEvents:!0,kill:!1},bs={suppressEvents:!0},un={},tt=[],Ui={},rr,ge={},Ci={},Cn=30,di=[],cn="",fn=function(e){var t=e[0],i,n;if(Be(t)||q(t)||(e=[e]),!(i=(t._gsap||{}).harness)){for(n=di.length;n--&&!di[n].targetTest(t););i=di[n]}for(n=e.length;n--;)e[n]&&(e[n]._gsap||(e[n]._gsap=new Ir(e[n],i)))||e.splice(n,1);return e},gt=function(e){return e._gsap||fn(Se(e))[0]._gsap},sr=function(e,t,i){return(i=e[t])&&q(i)?e[t]():sn(i)&&e.getAttribute&&e.getAttribute(t)||i},ce=function(e,t){return(e=e.split(",")).forEach(t)||e},K=function(e){return Math.round(e*1e5)/1e5||0},V=function(e){return Math.round(e*1e7)/1e7||0},St=function(e,t){var i=t.charAt(0),n=parseFloat(t.substr(2));return e=parseFloat(e),i==="+"?e+n:i==="-"?e-n:i==="*"?e*n:e/n},ws=function(e,t){for(var i=t.length,n=0;e.indexOf(t[n])<0&&++n<i;);return n<i},mi=function(){var e=tt.length,t=tt.slice(0),i,n;for(Ui={},tt.length=0,i=0;i<e;i++)n=t[i],n&&n._lazy&&(n.render(n._lazy[0],n._lazy[1],!0)._lazy=0)},hn=function(e){return!!(e._initted||e._startAt||e.add)},or=function(e,t,i,n){tt.length&&!te&&mi(),e.render(t,i,!!(te&&t<0&&hn(e))),tt.length&&!te&&mi()},ar=function(e){var t=parseFloat(e);return(t||t===0)&&(e+"").match(ms).length<2?t:ee(e)?e.trim():e},lr=function(e){return e},Ee=function(e,t){for(var i in t)i in e||(e[i]=t[i]);return e},Es=function(e){return function(t,i){for(var n in i)n in t||n==="duration"&&e||n==="ease"||(t[n]=i[n])}},Pt=function(e,t){for(var i in t)e[i]=t[i];return e},Rn=function r(e,t){for(var i in t)i!=="__proto__"&&i!=="constructor"&&i!=="prototype"&&(e[i]=Be(t[i])?r(e[i]||(e[i]={}),t[i]):t[i]);return e},yi=function(e,t){var i={},n;for(n in e)n in t||(i[n]=e[n]);return i},qt=function(e){var t=e.parent||H,i=e.keyframes?Es(oe(e.keyframes)):Ee;if(ue(e.inherit))for(;t;)i(e,t.vars.defaults),t=t.parent||t._dp;return e},Os=function(e,t){for(var i=e.length,n=i===t.length;n&&i--&&e[i]===t[i];);return i<0},ur=function(e,t,i,n,s){var o=e[n],a;if(s)for(a=t[s];o&&o[s]>a;)o=o._prev;return o?(t._next=o._next,o._next=t):(t._next=e[i],e[i]=t),t._next?t._next._prev=t:e[n]=t,t._prev=o,t.parent=t._dp=e,t},vi=function(e,t,i,n){i===void 0&&(i="_first"),n===void 0&&(n="_last");var s=t._prev,o=t._next;s?s._next=o:e[i]===t&&(e[i]=o),o?o._prev=s:e[n]===t&&(e[n]=s),t._next=t._prev=t.parent=null},nt=function(e,t){e.parent&&(!t||e.parent.autoRemoveChildren)&&e.parent.remove&&e.parent.remove(e),e._act=0},mt=function(e,t){if(e&&(!t||t._end>e._dur||t._start<0))for(var i=e;i;)i._dirty=1,i=i.parent;return e},vs=function(e){for(var t=e.parent;t&&t.parent;)t._dirty=1,t.totalDuration(),t=t.parent;return e},Fi=function(e,t,i,n){return e._startAt&&(te?e._startAt.revert(hi):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(t,!0,n))},Ss=function r(e){return!e||e._ts&&r(e.parent)},Nn=function(e){return e._repeat?Mt(e._tTime,e=e.duration()+e._rDelay)*e:0},Mt=function(e,t){var i=Math.floor(e=V(e/t));return e&&i===e?i-1:i},Ti=function(e,t){return(e-t._start)*t._ts+(t._ts>=0?0:t._dirty?t.totalDuration():t._tDur)},Si=function(e){return e._end=V(e._start+(e._tDur/Math.abs(e._ts||e._rts||F)||0))},xi=function(e,t){var i=e._dp;return i&&i.smoothChildTiming&&e._ts&&(e._start=V(i._time-(e._ts>0?t/e._ts:((e._dirty?e.totalDuration():e._tDur)-t)/-e._ts)),Si(e),i._dirty||mt(i,e)),e},cr=function(e,t){var i;if((t._time||!t._dur&&t._initted||t._start<e._time&&(t._dur||!t.add))&&(i=Ti(e.rawTime(),t),(!t._dur||oi(0,t.totalDuration(),i)-t._tTime>F)&&t.render(i,!0)),mt(e,t)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(i=e;i._dp;)i.rawTime()>=0&&i.totalTime(i._tTime),i=i._dp;e._zTime=-F}},ke=function(e,t,i,n){return t.parent&&nt(t),t._start=V(($e(i)?i:i||e!==H?Oe(e,i,t):e._time)+t._delay),t._end=V(t._start+(t.totalDuration()/Math.abs(t.timeScale())||0)),ur(e,t,"_first","_last",e._sort?"_start":0),zi(t)||(e._recent=t),n||cr(e,t),e._ts<0&&xi(e,e._tTime),e},fr=function(e,t){return(we.ScrollTrigger||ln("scrollTrigger",t))&&we.ScrollTrigger.create(t,e)},hr=function(e,t,i,n,s){if(_n(e,t,s),!e._initted)return 1;if(!i&&e._pt&&!te&&(e._dur&&e.vars.lazy!==!1||!e._dur&&e.vars.lazy)&&rr!==me.frame)return tt.push(e),e._lazy=[s,n],1},xs=function r(e){var t=e.parent;return t&&t._ts&&t._initted&&!t._lock&&(t.rawTime()<0||r(t))},zi=function(e){var t=e.data;return t==="isFromStart"||t==="isStart"},As=function(e,t,i,n){var s=e.ratio,o=t<0||!t&&(!e._start&&xs(e)&&!(!e._initted&&zi(e))||(e._ts<0||e._dp._ts<0)&&!zi(e))?0:1,a=e._rDelay,l=0,u,c,h;if(a&&e._repeat&&(l=oi(0,e._tDur,t),c=Mt(l,a),e._yoyo&&c&1&&(o=1-o),c!==Mt(e._tTime,a)&&(s=1-o,e.vars.repeatRefresh&&e._initted&&e.invalidate())),o!==s||te||n||e._zTime===F||!t&&e._zTime){if(!e._initted&&hr(e,t,n,i,l))return;for(h=e._zTime,e._zTime=t||(i?F:0),i||(i=t&&!h),e.ratio=o,e._from&&(o=1-o),e._time=0,e._tTime=l,u=e._pt;u;)u.r(o,u.d),u=u._next;t<0&&Fi(e,t,i,!0),e._onUpdate&&!i&&ye(e,"onUpdate"),l&&e._repeat&&!i&&e.parent&&ye(e,"onRepeat"),(t>=e._tDur||t<0)&&e.ratio===o&&(o&&nt(e,1),!i&&!te&&(ye(e,o?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=t)},Is=function(e,t,i){var n;if(i>t)for(n=e._first;n&&n._start<=i;){if(n.data==="isPause"&&n._start>t)return n;n=n._next}else for(n=e._last;n&&n._start>=i;){if(n.data==="isPause"&&n._start<t)return n;n=n._prev}},kt=function(e,t,i,n){var s=e._repeat,o=V(t)||0,a=e._tTime/e._tDur;return a&&!n&&(e._time*=o/e._dur),e._dur=o,e._tDur=s?s<0?1e10:V(o*(s+1)+e._rDelay*s):o,a>0&&!n&&xi(e,e._tTime=e._tDur*a),e.parent&&Si(e),i||mt(e.parent,e),e},Pn=function(e){return e instanceof le?mt(e):kt(e,e._dur)},Cs={_start:0,endTime:Zt,totalDuration:Zt},Oe=function r(e,t,i){var n=e.labels,s=e._recent||Cs,o=e.duration()>=ve?s.endTime(!1):e._dur,a,l,u;return ee(t)&&(isNaN(t)||t in n)?(l=t.charAt(0),u=t.substr(-1)==="%",a=t.indexOf("="),l==="<"||l===">"?(a>=0&&(t=t.replace(/=/,"")),(l==="<"?s._start:s.endTime(s._repeat>=0))+(parseFloat(t.substr(1))||0)*(u?(a<0?s:i).totalDuration()/100:1)):a<0?(t in n||(n[t]=o),n[t]):(l=parseFloat(t.charAt(a-1)+t.substr(a+1)),u&&i&&(l=l/100*(oe(i)?i[0]:i).totalDuration()),a>1?r(e,t.substr(0,a-1),i)+l:o+l)):t==null?o:+t},Jt=function(e,t,i){var n=$e(t[1]),s=(n?2:1)+(e<2?0:1),o=t[s],a,l;if(n&&(o.duration=t[1]),o.parent=i,e){for(a=o,l=i;l&&!("immediateRender"in a);)a=l.vars.defaults||{},l=ue(l.vars.inherit)&&l.parent;o.immediateRender=ue(a.immediateRender),e<2?o.runBackwards=1:o.startAt=t[s-1]}return new Q(t[0],o,t[s+1])},ot=function(e,t){return e||e===0?t(e):t},oi=function(e,t,i){return i<e?e:i>t?t:i},ne=function(e,t){return!ee(e)||!(t=ys.exec(e))?"":t[1]},Rs=function(e,t,i){return ot(i,function(n){return oi(e,t,n)})},Yi=[].slice,dr=function(e,t){return e&&Be(e)&&"length"in e&&(!t&&!e.length||e.length-1 in e&&Be(e[0]))&&!e.nodeType&&e!==Pe},Ns=function(e,t,i){return i===void 0&&(i=[]),e.forEach(function(n){var s;return ee(n)&&!t||dr(n,1)?(s=i).push.apply(s,Se(n)):i.push(n)})||i},Se=function(e,t,i){return W&&!t&&W.selector?W.selector(e):ee(e)&&!i&&(Gi||!Lt())?Yi.call((t||an).querySelectorAll(e),0):oe(e)?Ns(e,i):dr(e)?Yi.call(e,0):e?[e]:[]},Wi=function(e){return e=Se(e)[0]||Qt("Invalid scope")||{},function(t){var i=e.current||e.nativeElement||e;return Se(t,i.querySelectorAll?i:i===e?Qt("Invalid scope")||an.createElement("div"):e)}},_r=function(e){return e.sort(function(){return .5-Math.random()})},pr=function(e){if(q(e))return e;var t=Be(e)?e:{each:e},i=yt(t.ease),n=t.from||0,s=parseFloat(t.base)||0,o={},a=n>0&&n<1,l=isNaN(n)||a,u=t.axis,c=n,h=n;return ee(n)?c=h={center:.5,edges:.5,end:1}[n]||0:!a&&l&&(c=n[0],h=n[1]),function(d,_,p){var f=(p||t).length,g=o[f],T,b,w,E,y,x,A,S,O;if(!g){if(O=t.grid==="auto"?0:(t.grid||[1,ve])[1],!O){for(A=-ve;A<(A=p[O++].getBoundingClientRect().left)&&O<f;);O<f&&O--}for(g=o[f]=[],T=l?Math.min(O,f)*c-.5:n%O,b=O===ve?0:l?f*h/O-.5:n/O|0,A=0,S=ve,x=0;x<f;x++)w=x%O-T,E=b-(x/O|0),g[x]=y=u?Math.abs(u==="y"?E:w):Kn(w*w+E*E),y>A&&(A=y),y<S&&(S=y);n==="random"&&_r(g),g.max=A-S,g.min=S,g.v=f=(parseFloat(t.amount)||parseFloat(t.each)*(O>f?f-1:u?u==="y"?f/O:O:Math.max(O,f/O))||0)*(n==="edges"?-1:1),g.b=f<0?s-f:s,g.u=ne(t.amount||t.each)||0,i=i&&f<0?Sr(i):i}return f=(g[d]-g.min)/g.max||0,V(g.b+(i?i(f):f)*g.v)+g.u}},Vi=function(e){var t=Math.pow(10,((e+"").split(".")[1]||"").length);return function(i){var n=V(Math.round(parseFloat(i)/e)*e*t);return(n-n%1)/t+($e(i)?0:ne(i))}},gr=function(e,t){var i=oe(e),n,s;return!i&&Be(e)&&(n=i=e.radius||ve,e.values?(e=Se(e.values),(s=!$e(e[0]))&&(n*=n)):e=Vi(e.increment)),ot(t,i?q(e)?function(o){return s=e(o),Math.abs(s-o)<=n?s:o}:function(o){for(var a=parseFloat(s?o.x:o),l=parseFloat(s?o.y:0),u=ve,c=0,h=e.length,d,_;h--;)s?(d=e[h].x-a,_=e[h].y-l,d=d*d+_*_):d=Math.abs(e[h]-a),d<u&&(u=d,c=h);return c=!n||u<=n?e[c]:o,s||c===o||$e(o)?c:c+ne(o)}:Vi(e))},mr=function(e,t,i,n){return ot(oe(e)?!t:i===!0?!!(i=0):!n,function(){return oe(e)?e[~~(Math.random()*e.length)]:(i=i||1e-5)&&(n=i<1?Math.pow(10,(i+"").length-2):1)&&Math.floor(Math.round((e-i/2+Math.random()*(t-e+i*.99))/i)*i*n)/n})},Ps=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return function(n){return t.reduce(function(s,o){return o(s)},n)}},Ms=function(e,t){return function(i){return e(parseFloat(i))+(t||ne(i))}},ks=function(e,t,i){return Tr(e,t,0,1,i)},yr=function(e,t,i){return ot(i,function(n){return e[~~t(n)]})},Ls=function r(e,t,i){var n=t-e;return oe(e)?yr(e,r(0,e.length),t):ot(i,function(s){return(n+(s-e)%n)%n+e})},Ds=function r(e,t,i){var n=t-e,s=n*2;return oe(e)?yr(e,r(0,e.length-1),t):ot(i,function(o){return o=(s+(o-e)%s)%s||0,e+(o>n?s-o:o)})},ei=function(e){return e.replace(ps,function(t){var i=t.indexOf("[")+1,n=t.substring(i||7,i?t.indexOf("]"):t.length-1).split(gs);return mr(i?n:+n[0],i?0:+n[1],+n[2]||1e-5)})},Tr=function(e,t,i,n,s){var o=t-e,a=n-i;return ot(s,function(l){return i+((l-e)/o*a||0)})},Bs=function r(e,t,i,n){var s=isNaN(e+t)?0:function(_){return(1-_)*e+_*t};if(!s){var o=ee(e),a={},l,u,c,h,d;if(i===!0&&(n=1)&&(i=null),o)e={p:e},t={p:t};else if(oe(e)&&!oe(t)){for(c=[],h=e.length,d=h-2,u=1;u<h;u++)c.push(r(e[u-1],e[u]));h--,s=function(p){p*=h;var f=Math.min(d,~~p);return c[f](p-f)},i=t}else n||(e=Pt(oe(e)?[]:{},e));if(!c){for(l in t)dn.call(a,e,l,"get",t[l]);s=function(p){return mn(p,a)||(o?e.p:e)}}}return ot(i,s)},Mn=function(e,t,i){var n=e.labels,s=ve,o,a,l;for(o in n)a=n[o]-t,a<0==!!i&&a&&s>(a=Math.abs(a))&&(l=o,s=a);return l},ye=function(e,t,i){var n=e.vars,s=n[t],o=W,a=e._ctx,l,u,c;if(s)return l=n[t+"Params"],u=n.callbackScope||e,i&&tt.length&&mi(),a&&(W=a),c=l?s.apply(u,l):s.call(u),W=o,c},Vt=function(e){return nt(e),e.scrollTrigger&&e.scrollTrigger.kill(!!te),e.progress()<1&&ye(e,"onInterrupt"),e},vt,br=[],wr=function(e){if(e)if(e=!e.name&&e.default||e,on()||e.headless){var t=e.name,i=q(e),n=t&&!i&&e.init?function(){this._props=[]}:e,s={init:Zt,render:mn,add:dn,kill:Zs,modifier:Qs,rawVars:0},o={targetTest:0,get:0,getSetter:gn,aliases:{},register:0};if(Lt(),e!==n){if(ge[t])return;Ee(n,Ee(yi(e,s),o)),Pt(n.prototype,Pt(s,yi(e,o))),ge[n.prop=t]=n,e.targetTest&&(di.push(n),un[t]=1),t=(t==="css"?"CSS":t.charAt(0).toUpperCase()+t.substr(1))+"Plugin"}nr(t,n),e.register&&e.register(de,n,fe)}else br.push(e)},G=255,Ht={aqua:[0,G,G],lime:[0,G,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,G],navy:[0,0,128],white:[G,G,G],olive:[128,128,0],yellow:[G,G,0],orange:[G,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[G,0,0],pink:[G,192,203],cyan:[0,G,G],transparent:[G,G,G,0]},Ri=function(e,t,i){return e+=e<0?1:e>1?-1:0,(e*6<1?t+(i-t)*e*6:e<.5?i:e*3<2?t+(i-t)*(2/3-e)*6:t)*G+.5|0},Er=function(e,t,i){var n=e?$e(e)?[e>>16,e>>8&G,e&G]:0:Ht.black,s,o,a,l,u,c,h,d,_,p;if(!n){if(e.substr(-1)===","&&(e=e.substr(0,e.length-1)),Ht[e])n=Ht[e];else if(e.charAt(0)==="#"){if(e.length<6&&(s=e.charAt(1),o=e.charAt(2),a=e.charAt(3),e="#"+s+s+o+o+a+a+(e.length===5?e.charAt(4)+e.charAt(4):"")),e.length===9)return n=parseInt(e.substr(1,6),16),[n>>16,n>>8&G,n&G,parseInt(e.substr(7),16)/255];e=parseInt(e.substr(1),16),n=[e>>16,e>>8&G,e&G]}else if(e.substr(0,3)==="hsl"){if(n=p=e.match(In),!t)l=+n[0]%360/360,u=+n[1]/100,c=+n[2]/100,o=c<=.5?c*(u+1):c+u-c*u,s=c*2-o,n.length>3&&(n[3]*=1),n[0]=Ri(l+1/3,s,o),n[1]=Ri(l,s,o),n[2]=Ri(l-1/3,s,o);else if(~e.indexOf("="))return n=e.match(Zn),i&&n.length<4&&(n[3]=1),n}else n=e.match(In)||Ht.transparent;n=n.map(Number)}return t&&!p&&(s=n[0]/G,o=n[1]/G,a=n[2]/G,h=Math.max(s,o,a),d=Math.min(s,o,a),c=(h+d)/2,h===d?l=u=0:(_=h-d,u=c>.5?_/(2-h-d):_/(h+d),l=h===s?(o-a)/_+(o<a?6:0):h===o?(a-s)/_+2:(s-o)/_+4,l*=60),n[0]=~~(l+.5),n[1]=~~(u*100+.5),n[2]=~~(c*100+.5)),i&&n.length<4&&(n[3]=1),n},Or=function(e){var t=[],i=[],n=-1;return e.split(it).forEach(function(s){var o=s.match(Ot)||[];t.push.apply(t,o),i.push(n+=o.length+1)}),t.c=i,t},kn=function(e,t,i){var n="",s=(e+n).match(it),o=t?"hsla(":"rgba(",a=0,l,u,c,h;if(!s)return e;if(s=s.map(function(d){return(d=Er(d,t,1))&&o+(t?d[0]+","+d[1]+"%,"+d[2]+"%,"+d[3]:d.join(","))+")"}),i&&(c=Or(e),l=i.c,l.join(n)!==c.c.join(n)))for(u=e.replace(it,"1").split(Ot),h=u.length-1;a<h;a++)n+=u[a]+(~l.indexOf(a)?s.shift()||o+"0,0,0,0)":(c.length?c:s.length?s:i).shift());if(!u)for(u=e.split(it),h=u.length-1;a<h;a++)n+=u[a]+s[a];return n+u[h]},it=function(){var r="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",e;for(e in Ht)r+="|"+e+"\\b";return new RegExp(r+")","gi")}(),Gs=/hsl[a]?\(/,vr=function(e){var t=e.join(" "),i;if(it.lastIndex=0,it.test(t))return i=Gs.test(t),e[1]=kn(e[1],i),e[0]=kn(e[0],i,Or(e[1])),!0},ti,me=function(){var r=Date.now,e=500,t=33,i=r(),n=i,s=1e3/240,o=s,a=[],l,u,c,h,d,_,p=function f(g){var T=r()-n,b=g===!0,w,E,y,x;if((T>e||T<0)&&(i+=T-t),n+=T,y=n-i,w=y-o,(w>0||b)&&(x=++h.frame,d=y-h.time*1e3,h.time=y=y/1e3,o+=w+(w>=s?4:s-w),E=1),b||(l=u(f)),E)for(_=0;_<a.length;_++)a[_](y,d,x,g)};return h={time:0,frame:0,tick:function(){p(!0)},deltaRatio:function(g){return d/(1e3/(g||60))},wake:function(){tr&&(!Gi&&on()&&(Pe=Gi=window,an=Pe.document||{},we.gsap=de,(Pe.gsapVersions||(Pe.gsapVersions=[])).push(de.version),ir(gi||Pe.GreenSockGlobals||!Pe.gsap&&Pe||{}),br.forEach(wr)),c=typeof requestAnimationFrame<"u"&&requestAnimationFrame,l&&h.sleep(),u=c||function(g){return setTimeout(g,o-h.time*1e3+1|0)},ti=1,p(2))},sleep:function(){(c?cancelAnimationFrame:clearTimeout)(l),ti=0,u=Zt},lagSmoothing:function(g,T){e=g||1/0,t=Math.min(T||33,e)},fps:function(g){s=1e3/(g||240),o=h.time*1e3+s},add:function(g,T,b){var w=T?function(E,y,x,A){g(E,y,x,A),h.remove(w)}:g;return h.remove(g),a[b?"unshift":"push"](w),Lt(),w},remove:function(g,T){~(T=a.indexOf(g))&&a.splice(T,1)&&_>=T&&_--},_listeners:a},h}(),Lt=function(){return!ti&&me.wake()},M={},Us=/^[\d.\-M][\d.\-,\s]/,Fs=/["']/g,zs=function(e){for(var t={},i=e.substr(1,e.length-3).split(":"),n=i[0],s=1,o=i.length,a,l,u;s<o;s++)l=i[s],a=s!==o-1?l.lastIndexOf(","):l.length,u=l.substr(0,a),t[n]=isNaN(u)?u.replace(Fs,"").trim():+u,n=l.substr(a+1).trim();return t},Ys=function(e){var t=e.indexOf("(")+1,i=e.indexOf(")"),n=e.indexOf("(",t);return e.substring(t,~n&&n<i?e.indexOf(")",i+1):i)},Ws=function(e){var t=(e+"").split("("),i=M[t[0]];return i&&t.length>1&&i.config?i.config.apply(null,~e.indexOf("{")?[zs(t[1])]:Ys(e).split(",").map(ar)):M._CE&&Us.test(e)?M._CE("",e):i},Sr=function(e){return function(t){return 1-e(1-t)}},xr=function r(e,t){for(var i=e._first,n;i;)i instanceof le?r(i,t):i.vars.yoyoEase&&(!i._yoyo||!i._repeat)&&i._yoyo!==t&&(i.timeline?r(i.timeline,t):(n=i._ease,i._ease=i._yEase,i._yEase=n,i._yoyo=t)),i=i._next},yt=function(e,t){return e&&(q(e)?e:M[e]||Ws(e))||t},bt=function(e,t,i,n){i===void 0&&(i=function(l){return 1-t(1-l)}),n===void 0&&(n=function(l){return l<.5?t(l*2)/2:1-t((1-l)*2)/2});var s={easeIn:t,easeOut:i,easeInOut:n},o;return ce(e,function(a){M[a]=we[a]=s,M[o=a.toLowerCase()]=i;for(var l in s)M[o+(l==="easeIn"?".in":l==="easeOut"?".out":".inOut")]=M[a+"."+l]=s[l]}),s},Ar=function(e){return function(t){return t<.5?(1-e(1-t*2))/2:.5+e((t-.5)*2)/2}},Ni=function r(e,t,i){var n=t>=1?t:1,s=(i||(e?.3:.45))/(t<1?t:1),o=s/Bi*(Math.asin(1/n)||0),a=function(c){return c===1?1:n*Math.pow(2,-10*c)*_s((c-o)*s)+1},l=e==="out"?a:e==="in"?function(u){return 1-a(1-u)}:Ar(a);return s=Bi/s,l.config=function(u,c){return r(e,u,c)},l},Pi=function r(e,t){t===void 0&&(t=1.70158);var i=function(o){return o?--o*o*((t+1)*o+t)+1:0},n=e==="out"?i:e==="in"?function(s){return 1-i(1-s)}:Ar(i);return n.config=function(s){return r(e,s)},n};ce("Linear,Quad,Cubic,Quart,Quint,Strong",function(r,e){var t=e<5?e+1:e;bt(r+",Power"+(t-1),e?function(i){return Math.pow(i,t)}:function(i){return i},function(i){return 1-Math.pow(1-i,t)},function(i){return i<.5?Math.pow(i*2,t)/2:1-Math.pow((1-i)*2,t)/2})});M.Linear.easeNone=M.none=M.Linear.easeIn;bt("Elastic",Ni("in"),Ni("out"),Ni());(function(r,e){var t=1/e,i=2*t,n=2.5*t,s=function(a){return a<t?r*a*a:a<i?r*Math.pow(a-1.5/e,2)+.75:a<n?r*(a-=2.25/e)*a+.9375:r*Math.pow(a-2.625/e,2)+.984375};bt("Bounce",function(o){return 1-s(1-o)},s)})(7.5625,2.75);bt("Expo",function(r){return Math.pow(2,10*(r-1))*r+r*r*r*r*r*r*(1-r)});bt("Circ",function(r){return-(Kn(1-r*r)-1)});bt("Sine",function(r){return r===1?1:-ds(r*fs)+1});bt("Back",Pi("in"),Pi("out"),Pi());M.SteppedEase=M.steps=we.SteppedEase={config:function(e,t){e===void 0&&(e=1);var i=1/e,n=e+(t?0:1),s=t?1:0,o=1-F;return function(a){return((n*oi(0,o,a)|0)+s)*i}}};Nt.ease=M["quad.out"];ce("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(r){return cn+=r+","+r+"Params,"});var Ir=function(e,t){this.id=hs++,e._gsap=this,this.target=e,this.harness=t,this.get=t?t.get:sr,this.set=t?t.getSetter:gn},ii=function(){function r(t){this.vars=t,this._delay=+t.delay||0,(this._repeat=t.repeat===1/0?-2:t.repeat||0)&&(this._rDelay=t.repeatDelay||0,this._yoyo=!!t.yoyo||!!t.yoyoEase),this._ts=1,kt(this,+t.duration,1,1),this.data=t.data,W&&(this._ctx=W,W.data.push(this)),ti||me.wake()}var e=r.prototype;return e.delay=function(i){return i||i===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+i-this._delay),this._delay=i,this):this._delay},e.duration=function(i){return arguments.length?this.totalDuration(this._repeat>0?i+(i+this._rDelay)*this._repeat:i):this.totalDuration()&&this._dur},e.totalDuration=function(i){return arguments.length?(this._dirty=0,kt(this,this._repeat<0?i:(i-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(i,n){if(Lt(),!arguments.length)return this._tTime;var s=this._dp;if(s&&s.smoothChildTiming&&this._ts){for(xi(this,i),!s._dp||s.parent||cr(s,this);s&&s.parent;)s.parent._time!==s._start+(s._ts>=0?s._tTime/s._ts:(s.totalDuration()-s._tTime)/-s._ts)&&s.totalTime(s._tTime,!0),s=s.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&i<this._tDur||this._ts<0&&i>0||!this._tDur&&!i)&&ke(this._dp,this,this._start-this._delay)}return(this._tTime!==i||!this._dur&&!n||this._initted&&Math.abs(this._zTime)===F||!this._initted&&this._dur&&i||!i&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=i),or(this,i,n)),this},e.time=function(i,n){return arguments.length?this.totalTime(Math.min(this.totalDuration(),i+Nn(this))%(this._dur+this._rDelay)||(i?this._dur:0),n):this._time},e.totalProgress=function(i,n){return arguments.length?this.totalTime(this.totalDuration()*i,n):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>=0&&this._initted?1:0},e.progress=function(i,n){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-i:i)+Nn(this),n):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},e.iteration=function(i,n){var s=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(i-1)*s,n):this._repeat?Mt(this._tTime,s)+1:1},e.timeScale=function(i,n){if(!arguments.length)return this._rts===-F?0:this._rts;if(this._rts===i)return this;var s=this.parent&&this._ts?Ti(this.parent._time,this):this._tTime;return this._rts=+i||0,this._ts=this._ps||i===-F?0:this._rts,this.totalTime(oi(-Math.abs(this._delay),this.totalDuration(),s),n!==!1),Si(this),vs(this)},e.paused=function(i){return arguments.length?(this._ps!==i&&(this._ps=i,i?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(Lt(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==F&&(this._tTime-=F)))),this):this._ps},e.startTime=function(i){if(arguments.length){this._start=V(i);var n=this.parent||this._dp;return n&&(n._sort||!this.parent)&&ke(n,this,this._start-this._delay),this}return this._start},e.endTime=function(i){return this._start+(ue(i)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(i){var n=this.parent||this._dp;return n?i&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?Ti(n.rawTime(i),this):this._tTime:this._tTime},e.revert=function(i){i===void 0&&(i=bs);var n=te;return te=i,hn(this)&&(this.timeline&&this.timeline.revert(i),this.totalTime(-.01,i.suppressEvents)),this.data!=="nested"&&i.kill!==!1&&this.kill(),te=n,this},e.globalTime=function(i){for(var n=this,s=arguments.length?i:n.rawTime();n;)s=n._start+s/(Math.abs(n._ts)||1),n=n._dp;return!this.parent&&this._sat?this._sat.globalTime(i):s},e.repeat=function(i){return arguments.length?(this._repeat=i===1/0?-2:i,Pn(this)):this._repeat===-2?1/0:this._repeat},e.repeatDelay=function(i){if(arguments.length){var n=this._time;return this._rDelay=i,Pn(this),n?this.time(n):this}return this._rDelay},e.yoyo=function(i){return arguments.length?(this._yoyo=i,this):this._yoyo},e.seek=function(i,n){return this.totalTime(Oe(this,i),ue(n))},e.restart=function(i,n){return this.play().totalTime(i?-this._delay:0,ue(n)),this._dur||(this._zTime=-F),this},e.play=function(i,n){return i!=null&&this.seek(i,n),this.reversed(!1).paused(!1)},e.reverse=function(i,n){return i!=null&&this.seek(i||this.totalDuration(),n),this.reversed(!0).paused(!1)},e.pause=function(i,n){return i!=null&&this.seek(i,n),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(i){return arguments.length?(!!i!==this.reversed()&&this.timeScale(-this._rts||(i?-F:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-F,this},e.isActive=function(){var i=this.parent||this._dp,n=this._start,s;return!!(!i||this._ts&&this._initted&&i.isActive()&&(s=i.rawTime(!0))>=n&&s<this.endTime(!0)-F)},e.eventCallback=function(i,n,s){var o=this.vars;return arguments.length>1?(n?(o[i]=n,s&&(o[i+"Params"]=s),i==="onUpdate"&&(this._onUpdate=n)):delete o[i],this):o[i]},e.then=function(i){var n=this,s=n._prom;return new Promise(function(o){var a=q(i)?i:lr,l=function(){var c=n.then;n.then=null,s&&s(),q(a)&&(a=a(n))&&(a.then||a===n)&&(n.then=c),o(a),n.then=c};n._initted&&n.totalProgress()===1&&n._ts>=0||!n._tTime&&n._ts<0?l():n._prom=l})},e.kill=function(){Vt(this)},r}();Ee(ii.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-F,_prom:0,_ps:!1,_rts:1});var le=function(r){jn(e,r);function e(i,n){var s;return i===void 0&&(i={}),s=r.call(this,i)||this,s.labels={},s.smoothChildTiming=!!i.smoothChildTiming,s.autoRemoveChildren=!!i.autoRemoveChildren,s._sort=ue(i.sortChildren),H&&ke(i.parent||H,Fe(s),n),i.reversed&&s.reverse(),i.paused&&s.paused(!0),i.scrollTrigger&&fr(Fe(s),i.scrollTrigger),s}var t=e.prototype;return t.to=function(n,s,o){return Jt(0,arguments,this),this},t.from=function(n,s,o){return Jt(1,arguments,this),this},t.fromTo=function(n,s,o,a){return Jt(2,arguments,this),this},t.set=function(n,s,o){return s.duration=0,s.parent=this,qt(s).repeatDelay||(s.repeat=0),s.immediateRender=!!s.immediateRender,new Q(n,s,Oe(this,o),1),this},t.call=function(n,s,o){return ke(this,Q.delayedCall(0,n,s),o)},t.staggerTo=function(n,s,o,a,l,u,c){return o.duration=s,o.stagger=o.stagger||a,o.onComplete=u,o.onCompleteParams=c,o.parent=this,new Q(n,o,Oe(this,l)),this},t.staggerFrom=function(n,s,o,a,l,u,c){return o.runBackwards=1,qt(o).immediateRender=ue(o.immediateRender),this.staggerTo(n,s,o,a,l,u,c)},t.staggerFromTo=function(n,s,o,a,l,u,c,h){return a.startAt=o,qt(a).immediateRender=ue(a.immediateRender),this.staggerTo(n,s,a,l,u,c,h)},t.render=function(n,s,o){var a=this._time,l=this._dirty?this.totalDuration():this._tDur,u=this._dur,c=n<=0?0:V(n),h=this._zTime<0!=n<0&&(this._initted||!u),d,_,p,f,g,T,b,w,E,y,x,A;if(this!==H&&c>l&&n>=0&&(c=l),c!==this._tTime||o||h){if(a!==this._time&&u&&(c+=this._time-a,n+=this._time-a),d=c,E=this._start,w=this._ts,T=!w,h&&(u||(a=this._zTime),(n||!s)&&(this._zTime=n)),this._repeat){if(x=this._yoyo,g=u+this._rDelay,this._repeat<-1&&n<0)return this.totalTime(g*100+n,s,o);if(d=V(c%g),c===l?(f=this._repeat,d=u):(y=V(c/g),f=~~y,f&&f===y&&(d=u,f--),d>u&&(d=u)),y=Mt(this._tTime,g),!a&&this._tTime&&y!==f&&this._tTime-y*g-this._dur<=0&&(y=f),x&&f&1&&(d=u-d,A=1),f!==y&&!this._lock){var S=x&&y&1,O=S===(x&&f&1);if(f<y&&(S=!S),a=S?0:c%u?u:c,this._lock=1,this.render(a||(A?0:V(f*g)),s,!u)._lock=0,this._tTime=c,!s&&this.parent&&ye(this,"onRepeat"),this.vars.repeatRefresh&&!A&&(this.invalidate()._lock=1,y=f),a&&a!==this._time||T!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(u=this._dur,l=this._tDur,O&&(this._lock=2,a=S?u:-1e-4,this.render(a,!0),this.vars.repeatRefresh&&!A&&this.invalidate()),this._lock=0,!this._ts&&!T)return this;xr(this,A)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(b=Is(this,V(a),V(d)),b&&(c-=d-(d=b._start))),this._tTime=c,this._time=d,this._act=!w,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=n,a=0),!a&&c&&u&&!s&&!y&&(ye(this,"onStart"),this._tTime!==c))return this;if(d>=a&&n>=0)for(_=this._first;_;){if(p=_._next,(_._act||d>=_._start)&&_._ts&&b!==_){if(_.parent!==this)return this.render(n,s,o);if(_.render(_._ts>0?(d-_._start)*_._ts:(_._dirty?_.totalDuration():_._tDur)+(d-_._start)*_._ts,s,o),d!==this._time||!this._ts&&!T){b=0,p&&(c+=this._zTime=-F);break}}_=p}else{_=this._last;for(var P=n<0?n:d;_;){if(p=_._prev,(_._act||P<=_._end)&&_._ts&&b!==_){if(_.parent!==this)return this.render(n,s,o);if(_.render(_._ts>0?(P-_._start)*_._ts:(_._dirty?_.totalDuration():_._tDur)+(P-_._start)*_._ts,s,o||te&&hn(_)),d!==this._time||!this._ts&&!T){b=0,p&&(c+=this._zTime=P?-F:F);break}}_=p}}if(b&&!s&&(this.pause(),b.render(d>=a?0:-F)._zTime=d>=a?1:-1,this._ts))return this._start=E,Si(this),this.render(n,s,o);this._onUpdate&&!s&&ye(this,"onUpdate",!0),(c===l&&this._tTime>=this.totalDuration()||!c&&a)&&(E===this._start||Math.abs(w)!==Math.abs(this._ts))&&(this._lock||((n||!u)&&(c===l&&this._ts>0||!c&&this._ts<0)&&nt(this,1),!s&&!(n<0&&!a)&&(c||a||!l)&&(ye(this,c===l&&n>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(c<l&&this.timeScale()>0)&&this._prom())))}return this},t.add=function(n,s){var o=this;if($e(s)||(s=Oe(this,s,n)),!(n instanceof ii)){if(oe(n))return n.forEach(function(a){return o.add(a,s)}),this;if(ee(n))return this.addLabel(n,s);if(q(n))n=Q.delayedCall(0,n);else return this}return this!==n?ke(this,n,s):this},t.getChildren=function(n,s,o,a){n===void 0&&(n=!0),s===void 0&&(s=!0),o===void 0&&(o=!0),a===void 0&&(a=-ve);for(var l=[],u=this._first;u;)u._start>=a&&(u instanceof Q?s&&l.push(u):(o&&l.push(u),n&&l.push.apply(l,u.getChildren(!0,s,o)))),u=u._next;return l},t.getById=function(n){for(var s=this.getChildren(1,1,1),o=s.length;o--;)if(s[o].vars.id===n)return s[o]},t.remove=function(n){return ee(n)?this.removeLabel(n):q(n)?this.killTweensOf(n):(n.parent===this&&vi(this,n),n===this._recent&&(this._recent=this._last),mt(this))},t.totalTime=function(n,s){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=V(me.time-(this._ts>0?n/this._ts:(this.totalDuration()-n)/-this._ts))),r.prototype.totalTime.call(this,n,s),this._forcing=0,this):this._tTime},t.addLabel=function(n,s){return this.labels[n]=Oe(this,s),this},t.removeLabel=function(n){return delete this.labels[n],this},t.addPause=function(n,s,o){var a=Q.delayedCall(0,s||Zt,o);return a.data="isPause",this._hasPause=1,ke(this,a,Oe(this,n))},t.removePause=function(n){var s=this._first;for(n=Oe(this,n);s;)s._start===n&&s.data==="isPause"&&nt(s),s=s._next},t.killTweensOf=function(n,s,o){for(var a=this.getTweensOf(n,o),l=a.length;l--;)Qe!==a[l]&&a[l].kill(n,s);return this},t.getTweensOf=function(n,s){for(var o=[],a=Se(n),l=this._first,u=$e(s),c;l;)l instanceof Q?ws(l._targets,a)&&(u?(!Qe||l._initted&&l._ts)&&l.globalTime(0)<=s&&l.globalTime(l.totalDuration())>s:!s||l.isActive())&&o.push(l):(c=l.getTweensOf(a,s)).length&&o.push.apply(o,c),l=l._next;return o},t.tweenTo=function(n,s){s=s||{};var o=this,a=Oe(o,n),l=s,u=l.startAt,c=l.onStart,h=l.onStartParams,d=l.immediateRender,_,p=Q.to(o,Ee({ease:s.ease||"none",lazy:!1,immediateRender:!1,time:a,overwrite:"auto",duration:s.duration||Math.abs((a-(u&&"time"in u?u.time:o._time))/o.timeScale())||F,onStart:function(){if(o.pause(),!_){var g=s.duration||Math.abs((a-(u&&"time"in u?u.time:o._time))/o.timeScale());p._dur!==g&&kt(p,g,0,1).render(p._time,!0,!0),_=1}c&&c.apply(p,h||[])}},s));return d?p.render(0):p},t.tweenFromTo=function(n,s,o){return this.tweenTo(s,Ee({startAt:{time:Oe(this,n)}},o))},t.recent=function(){return this._recent},t.nextLabel=function(n){return n===void 0&&(n=this._time),Mn(this,Oe(this,n))},t.previousLabel=function(n){return n===void 0&&(n=this._time),Mn(this,Oe(this,n),1)},t.currentLabel=function(n){return arguments.length?this.seek(n,!0):this.previousLabel(this._time+F)},t.shiftChildren=function(n,s,o){o===void 0&&(o=0);var a=this._first,l=this.labels,u;for(n=V(n);a;)a._start>=o&&(a._start+=n,a._end+=n),a=a._next;if(s)for(u in l)l[u]>=o&&(l[u]+=n);return mt(this)},t.invalidate=function(n){var s=this._first;for(this._lock=0;s;)s.invalidate(n),s=s._next;return r.prototype.invalidate.call(this,n)},t.clear=function(n){n===void 0&&(n=!0);for(var s=this._first,o;s;)o=s._next,this.remove(s),s=o;return this._dp&&(this._time=this._tTime=this._pTime=0),n&&(this.labels={}),mt(this)},t.totalDuration=function(n){var s=0,o=this,a=o._last,l=ve,u,c,h;if(arguments.length)return o.timeScale((o._repeat<0?o.duration():o.totalDuration())/(o.reversed()?-n:n));if(o._dirty){for(h=o.parent;a;)u=a._prev,a._dirty&&a.totalDuration(),c=a._start,c>l&&o._sort&&a._ts&&!o._lock?(o._lock=1,ke(o,a,c-a._delay,1)._lock=0):l=c,c<0&&a._ts&&(s-=c,(!h&&!o._dp||h&&h.smoothChildTiming)&&(o._start+=V(c/o._ts),o._time-=c,o._tTime-=c),o.shiftChildren(-c,!1,-1/0),l=0),a._end>s&&a._ts&&(s=a._end),a=u;kt(o,o===H&&o._time>s?o._time:s,1,1),o._dirty=0}return o._tDur},e.updateRoot=function(n){if(H._ts&&(or(H,Ti(n,H)),rr=me.frame),me.frame>=Cn){Cn+=be.autoSleep||120;var s=H._first;if((!s||!s._ts)&&be.autoSleep&&me._listeners.length<2){for(;s&&!s._ts;)s=s._next;s||me.sleep()}}},e}(ii);Ee(le.prototype,{_lock:0,_hasPause:0,_forcing:0});var Vs=function(e,t,i,n,s,o,a){var l=new fe(this._pt,e,t,0,1,kr,null,s),u=0,c=0,h,d,_,p,f,g,T,b;for(l.b=i,l.e=n,i+="",n+="",(T=~n.indexOf("random("))&&(n=ei(n)),o&&(b=[i,n],o(b,e,t),i=b[0],n=b[1]),d=i.match(Ii)||[];h=Ii.exec(n);)p=h[0],f=n.substring(u,h.index),_?_=(_+1)%5:f.substr(-5)==="rgba("&&(_=1),p!==d[c++]&&(g=parseFloat(d[c-1])||0,l._pt={_next:l._pt,p:f||c===1?f:",",s:g,c:p.charAt(1)==="="?St(g,p)-g:parseFloat(p)-g,m:_&&_<4?Math.round:0},u=Ii.lastIndex);return l.c=u<n.length?n.substring(u,n.length):"",l.fp=a,(er.test(n)||T)&&(l.e=0),this._pt=l,l},dn=function(e,t,i,n,s,o,a,l,u,c){q(n)&&(n=n(s||0,e,o));var h=e[t],d=i!=="get"?i:q(h)?u?e[t.indexOf("set")||!q(e["get"+t.substr(3)])?t:"get"+t.substr(3)](u):e[t]():h,_=q(h)?u?Js:Pr:pn,p;if(ee(n)&&(~n.indexOf("random(")&&(n=ei(n)),n.charAt(1)==="="&&(p=St(d,n)+(ne(d)||0),(p||p===0)&&(n=p))),!c||d!==n||Hi)return!isNaN(d*n)&&n!==""?(p=new fe(this._pt,e,t,+d||0,n-(d||0),typeof h=="boolean"?Ks:Mr,0,_),u&&(p.fp=u),a&&p.modifier(a,this,e),this._pt=p):(!h&&!(t in e)&&ln(t,n),Vs.call(this,e,t,d,n,_,l||be.stringFilter,u))},Hs=function(e,t,i,n,s){if(q(e)&&(e=jt(e,s,t,i,n)),!Be(e)||e.style&&e.nodeType||oe(e)||Qn(e))return ee(e)?jt(e,s,t,i,n):e;var o={},a;for(a in e)o[a]=jt(e[a],s,t,i,n);return o},Cr=function(e,t,i,n,s,o){var a,l,u,c;if(ge[e]&&(a=new ge[e]).init(s,a.rawVars?t[e]:Hs(t[e],n,s,o,i),i,n,o)!==!1&&(i._pt=l=new fe(i._pt,s,e,0,1,a.render,a,0,a.priority),i!==vt))for(u=i._ptLookup[i._targets.indexOf(s)],c=a._props.length;c--;)u[a._props[c]]=l;return a},Qe,Hi,_n=function r(e,t,i){var n=e.vars,s=n.ease,o=n.startAt,a=n.immediateRender,l=n.lazy,u=n.onUpdate,c=n.runBackwards,h=n.yoyoEase,d=n.keyframes,_=n.autoRevert,p=e._dur,f=e._startAt,g=e._targets,T=e.parent,b=T&&T.data==="nested"?T.vars.targets:g,w=e._overwrite==="auto"&&!rn,E=e.timeline,y,x,A,S,O,P,L,D,B,Z,J,Y,j;if(E&&(!d||!s)&&(s="none"),e._ease=yt(s,Nt.ease),e._yEase=h?Sr(yt(h===!0?s:h,Nt.ease)):0,h&&e._yoyo&&!e._repeat&&(h=e._yEase,e._yEase=e._ease,e._ease=h),e._from=!E&&!!n.runBackwards,!E||d&&!n.stagger){if(D=g[0]?gt(g[0]).harness:0,Y=D&&n[D.prop],y=yi(n,un),f&&(f._zTime<0&&f.progress(1),t<0&&c&&a&&!_?f.render(-1,!0):f.revert(c&&p?hi:Ts),f._lazy=0),o){if(nt(e._startAt=Q.set(g,Ee({data:"isStart",overwrite:!1,parent:T,immediateRender:!0,lazy:!f&&ue(l),startAt:null,delay:0,onUpdate:u&&function(){return ye(e,"onUpdate")},stagger:0},o))),e._startAt._dp=0,e._startAt._sat=e,t<0&&(te||!a&&!_)&&e._startAt.revert(hi),a&&p&&t<=0&&i<=0){t&&(e._zTime=t);return}}else if(c&&p&&!f){if(t&&(a=!1),A=Ee({overwrite:!1,data:"isFromStart",lazy:a&&!f&&ue(l),immediateRender:a,stagger:0,parent:T},y),Y&&(A[D.prop]=Y),nt(e._startAt=Q.set(g,A)),e._startAt._dp=0,e._startAt._sat=e,t<0&&(te?e._startAt.revert(hi):e._startAt.render(-1,!0)),e._zTime=t,!a)r(e._startAt,F,F);else if(!t)return}for(e._pt=e._ptCache=0,l=p&&ue(l)||l&&!p,x=0;x<g.length;x++){if(O=g[x],L=O._gsap||fn(g)[x]._gsap,e._ptLookup[x]=Z={},Ui[L.id]&&tt.length&&mi(),J=b===g?x:b.indexOf(O),D&&(B=new D).init(O,Y||y,e,J,b)!==!1&&(e._pt=S=new fe(e._pt,O,B.name,0,1,B.render,B,0,B.priority),B._props.forEach(function(Ae){Z[Ae]=S}),B.priority&&(P=1)),!D||Y)for(A in y)ge[A]&&(B=Cr(A,y,e,J,O,b))?B.priority&&(P=1):Z[A]=S=dn.call(e,O,A,"get",y[A],J,b,0,n.stringFilter);e._op&&e._op[x]&&e.kill(O,e._op[x]),w&&e._pt&&(Qe=e,H.killTweensOf(O,Z,e.globalTime(t)),j=!e.parent,Qe=0),e._pt&&l&&(Ui[L.id]=1)}P&&Lr(e),e._onInit&&e._onInit(e)}e._onUpdate=u,e._initted=(!e._op||e._pt)&&!j,d&&t<=0&&E.render(ve,!0,!0)},$s=function(e,t,i,n,s,o,a,l){var u=(e._pt&&e._ptCache||(e._ptCache={}))[t],c,h,d,_;if(!u)for(u=e._ptCache[t]=[],d=e._ptLookup,_=e._targets.length;_--;){if(c=d[_][t],c&&c.d&&c.d._pt)for(c=c.d._pt;c&&c.p!==t&&c.fp!==t;)c=c._next;if(!c)return Hi=1,e.vars[t]="+=0",_n(e,a),Hi=0,l?Qt(t+" not eligible for reset"):1;u.push(c)}for(_=u.length;_--;)h=u[_],c=h._pt||h,c.s=(n||n===0)&&!s?n:c.s+(n||0)+o*c.c,c.c=i-c.s,h.e&&(h.e=K(i)+ne(h.e)),h.b&&(h.b=c.s+ne(h.b))},Xs=function(e,t){var i=e[0]?gt(e[0]).harness:0,n=i&&i.aliases,s,o,a,l;if(!n)return t;s=Pt({},t);for(o in n)if(o in s)for(l=n[o].split(","),a=l.length;a--;)s[l[a]]=s[o];return s},qs=function(e,t,i,n){var s=t.ease||n||"power1.inOut",o,a;if(oe(t))a=i[e]||(i[e]=[]),t.forEach(function(l,u){return a.push({t:u/(t.length-1)*100,v:l,e:s})});else for(o in t)a=i[o]||(i[o]=[]),o==="ease"||a.push({t:parseFloat(e),v:t[o],e:s})},jt=function(e,t,i,n,s){return q(e)?e.call(t,i,n,s):ee(e)&&~e.indexOf("random(")?ei(e):e},Rr=cn+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",Nr={};ce(Rr+",id,stagger,delay,duration,paused,scrollTrigger",function(r){return Nr[r]=1});var Q=function(r){jn(e,r);function e(i,n,s,o){var a;typeof n=="number"&&(s.duration=n,n=s,s=null),a=r.call(this,o?n:qt(n))||this;var l=a.vars,u=l.duration,c=l.delay,h=l.immediateRender,d=l.stagger,_=l.overwrite,p=l.keyframes,f=l.defaults,g=l.scrollTrigger,T=l.yoyoEase,b=n.parent||H,w=(oe(i)||Qn(i)?$e(i[0]):"length"in n)?[i]:Se(i),E,y,x,A,S,O,P,L;if(a._targets=w.length?fn(w):Qt("GSAP target "+i+" not found. https://gsap.com",!be.nullTargetWarn)||[],a._ptLookup=[],a._overwrite=_,p||d||li(u)||li(c)){if(n=a.vars,E=a.timeline=new le({data:"nested",defaults:f||{},targets:b&&b.data==="nested"?b.vars.targets:w}),E.kill(),E.parent=E._dp=Fe(a),E._start=0,d||li(u)||li(c)){if(A=w.length,P=d&&pr(d),Be(d))for(S in d)~Rr.indexOf(S)&&(L||(L={}),L[S]=d[S]);for(y=0;y<A;y++)x=yi(n,Nr),x.stagger=0,T&&(x.yoyoEase=T),L&&Pt(x,L),O=w[y],x.duration=+jt(u,Fe(a),y,O,w),x.delay=(+jt(c,Fe(a),y,O,w)||0)-a._delay,!d&&A===1&&x.delay&&(a._delay=c=x.delay,a._start+=c,x.delay=0),E.to(O,x,P?P(y,O,w):0),E._ease=M.none;E.duration()?u=c=0:a.timeline=0}else if(p){qt(Ee(E.vars.defaults,{ease:"none"})),E._ease=yt(p.ease||n.ease||"none");var D=0,B,Z,J;if(oe(p))p.forEach(function(Y){return E.to(w,Y,">")}),E.duration();else{x={};for(S in p)S==="ease"||S==="easeEach"||qs(S,p[S],x,p.easeEach);for(S in x)for(B=x[S].sort(function(Y,j){return Y.t-j.t}),D=0,y=0;y<B.length;y++)Z=B[y],J={ease:Z.e,duration:(Z.t-(y?B[y-1].t:0))/100*u},J[S]=Z.v,E.to(w,J,D),D+=J.duration;E.duration()<u&&E.to({},{duration:u-E.duration()})}}u||a.duration(u=E.duration())}else a.timeline=0;return _===!0&&!rn&&(Qe=Fe(a),H.killTweensOf(w),Qe=0),ke(b,Fe(a),s),n.reversed&&a.reverse(),n.paused&&a.paused(!0),(h||!u&&!p&&a._start===V(b._time)&&ue(h)&&Ss(Fe(a))&&b.data!=="nested")&&(a._tTime=-F,a.render(Math.max(0,-c)||0)),g&&fr(Fe(a),g),a}var t=e.prototype;return t.render=function(n,s,o){var a=this._time,l=this._tDur,u=this._dur,c=n<0,h=n>l-F&&!c?l:n<F?0:n,d,_,p,f,g,T,b,w,E;if(!u)As(this,n,s,o);else if(h!==this._tTime||!n||o||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==c||this._lazy){if(d=h,w=this.timeline,this._repeat){if(f=u+this._rDelay,this._repeat<-1&&c)return this.totalTime(f*100+n,s,o);if(d=V(h%f),h===l?(p=this._repeat,d=u):(g=V(h/f),p=~~g,p&&p===g?(d=u,p--):d>u&&(d=u)),T=this._yoyo&&p&1,T&&(E=this._yEase,d=u-d),g=Mt(this._tTime,f),d===a&&!o&&this._initted&&p===g)return this._tTime=h,this;p!==g&&(w&&this._yEase&&xr(w,T),this.vars.repeatRefresh&&!T&&!this._lock&&d!==f&&this._initted&&(this._lock=o=1,this.render(V(f*p),!0).invalidate()._lock=0))}if(!this._initted){if(hr(this,c?n:d,o,s,h))return this._tTime=0,this;if(a!==this._time&&!(o&&this.vars.repeatRefresh&&p!==g))return this;if(u!==this._dur)return this.render(n,s,o)}if(this._tTime=h,this._time=d,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=b=(E||this._ease)(d/u),this._from&&(this.ratio=b=1-b),!a&&h&&!s&&!g&&(ye(this,"onStart"),this._tTime!==h))return this;for(_=this._pt;_;)_.r(b,_.d),_=_._next;w&&w.render(n<0?n:w._dur*w._ease(d/this._dur),s,o)||this._startAt&&(this._zTime=n),this._onUpdate&&!s&&(c&&Fi(this,n,s,o),ye(this,"onUpdate")),this._repeat&&p!==g&&this.vars.onRepeat&&!s&&this.parent&&ye(this,"onRepeat"),(h===this._tDur||!h)&&this._tTime===h&&(c&&!this._onUpdate&&Fi(this,n,!0,!0),(n||!u)&&(h===this._tDur&&this._ts>0||!h&&this._ts<0)&&nt(this,1),!s&&!(c&&!a)&&(h||a||T)&&(ye(this,h===l?"onComplete":"onReverseComplete",!0),this._prom&&!(h<l&&this.timeScale()>0)&&this._prom()))}return this},t.targets=function(){return this._targets},t.invalidate=function(n){return(!n||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(n),r.prototype.invalidate.call(this,n)},t.resetTo=function(n,s,o,a,l){ti||me.wake(),this._ts||this.play();var u=Math.min(this._dur,(this._dp._time-this._start)*this._ts),c;return this._initted||_n(this,u),c=this._ease(u/this._dur),$s(this,n,s,o,a,c,u,l)?this.resetTo(n,s,o,a,1):(xi(this,0),this.parent||ur(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},t.kill=function(n,s){if(s===void 0&&(s="all"),!n&&(!s||s==="all"))return this._lazy=this._pt=0,this.parent?Vt(this):this.scrollTrigger&&this.scrollTrigger.kill(!!te),this;if(this.timeline){var o=this.timeline.totalDuration();return this.timeline.killTweensOf(n,s,Qe&&Qe.vars.overwrite!==!0)._first||Vt(this),this.parent&&o!==this.timeline.totalDuration()&&kt(this,this._dur*this.timeline._tDur/o,0,1),this}var a=this._targets,l=n?Se(n):a,u=this._ptLookup,c=this._pt,h,d,_,p,f,g,T;if((!s||s==="all")&&Os(a,l))return s==="all"&&(this._pt=0),Vt(this);for(h=this._op=this._op||[],s!=="all"&&(ee(s)&&(f={},ce(s,function(b){return f[b]=1}),s=f),s=Xs(a,s)),T=a.length;T--;)if(~l.indexOf(a[T])){d=u[T],s==="all"?(h[T]=s,p=d,_={}):(_=h[T]=h[T]||{},p=s);for(f in p)g=d&&d[f],g&&((!("kill"in g.d)||g.d.kill(f)===!0)&&vi(this,g,"_pt"),delete d[f]),_!=="all"&&(_[f]=1)}return this._initted&&!this._pt&&c&&Vt(this),this},e.to=function(n,s){return new e(n,s,arguments[2])},e.from=function(n,s){return Jt(1,arguments)},e.delayedCall=function(n,s,o,a){return new e(s,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:n,onComplete:s,onReverseComplete:s,onCompleteParams:o,onReverseCompleteParams:o,callbackScope:a})},e.fromTo=function(n,s,o){return Jt(2,arguments)},e.set=function(n,s){return s.duration=0,s.repeatDelay||(s.repeat=0),new e(n,s)},e.killTweensOf=function(n,s,o){return H.killTweensOf(n,s,o)},e}(ii);Ee(Q.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});ce("staggerTo,staggerFrom,staggerFromTo",function(r){Q[r]=function(){var e=new le,t=Yi.call(arguments,0);return t.splice(r==="staggerFromTo"?5:4,0,0),e[r].apply(e,t)}});var pn=function(e,t,i){return e[t]=i},Pr=function(e,t,i){return e[t](i)},Js=function(e,t,i,n){return e[t](n.fp,i)},js=function(e,t,i){return e.setAttribute(t,i)},gn=function(e,t){return q(e[t])?Pr:sn(e[t])&&e.setAttribute?js:pn},Mr=function(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e6)/1e6,t)},Ks=function(e,t){return t.set(t.t,t.p,!!(t.s+t.c*e),t)},kr=function(e,t){var i=t._pt,n="";if(!e&&t.b)n=t.b;else if(e===1&&t.e)n=t.e;else{for(;i;)n=i.p+(i.m?i.m(i.s+i.c*e):Math.round((i.s+i.c*e)*1e4)/1e4)+n,i=i._next;n+=t.c}t.set(t.t,t.p,n,t)},mn=function(e,t){for(var i=t._pt;i;)i.r(e,i.d),i=i._next},Qs=function(e,t,i,n){for(var s=this._pt,o;s;)o=s._next,s.p===n&&s.modifier(e,t,i),s=o},Zs=function(e){for(var t=this._pt,i,n;t;)n=t._next,t.p===e&&!t.op||t.op===e?vi(this,t,"_pt"):t.dep||(i=1),t=n;return!i},eo=function(e,t,i,n){n.mSet(e,t,n.m.call(n.tween,i,n.mt),n)},Lr=function(e){for(var t=e._pt,i,n,s,o;t;){for(i=t._next,n=s;n&&n.pr>t.pr;)n=n._next;(t._prev=n?n._prev:o)?t._prev._next=t:s=t,(t._next=n)?n._prev=t:o=t,t=i}e._pt=s},fe=function(){function r(t,i,n,s,o,a,l,u,c){this.t=i,this.s=s,this.c=o,this.p=n,this.r=a||Mr,this.d=l||this,this.set=u||pn,this.pr=c||0,this._next=t,t&&(t._prev=this)}var e=r.prototype;return e.modifier=function(i,n,s){this.mSet=this.mSet||this.set,this.set=eo,this.m=i,this.mt=s,this.tween=n},r}();ce(cn+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(r){return un[r]=1});we.TweenMax=we.TweenLite=Q;we.TimelineLite=we.TimelineMax=le;H=new le({sortChildren:!1,defaults:Nt,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});be.stringFilter=vr;var Tt=[],_i={},to=[],Ln=0,io=0,Mi=function(e){return(_i[e]||to).map(function(t){return t()})},$i=function(){var e=Date.now(),t=[];e-Ln>2&&(Mi("matchMediaInit"),Tt.forEach(function(i){var n=i.queries,s=i.conditions,o,a,l,u;for(a in n)o=Pe.matchMedia(n[a]).matches,o&&(l=1),o!==s[a]&&(s[a]=o,u=1);u&&(i.revert(),l&&t.push(i))}),Mi("matchMediaRevert"),t.forEach(function(i){return i.onMatch(i,function(n){return i.add(null,n)})}),Ln=e,Mi("matchMedia"))},Dr=function(){function r(t,i){this.selector=i&&Wi(i),this.data=[],this._r=[],this.isReverted=!1,this.id=io++,t&&this.add(t)}var e=r.prototype;return e.add=function(i,n,s){q(i)&&(s=n,n=i,i=q);var o=this,a=function(){var u=W,c=o.selector,h;return u&&u!==o&&u.data.push(o),s&&(o.selector=Wi(s)),W=o,h=n.apply(o,arguments),q(h)&&o._r.push(h),W=u,o.selector=c,o.isReverted=!1,h};return o.last=a,i===q?a(o,function(l){return o.add(null,l)}):i?o[i]=a:a},e.ignore=function(i){var n=W;W=null,i(this),W=n},e.getTweens=function(){var i=[];return this.data.forEach(function(n){return n instanceof r?i.push.apply(i,n.getTweens()):n instanceof Q&&!(n.parent&&n.parent.data==="nested")&&i.push(n)}),i},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(i,n){var s=this;if(i?function(){for(var a=s.getTweens(),l=s.data.length,u;l--;)u=s.data[l],u.data==="isFlip"&&(u.revert(),u.getChildren(!0,!0,!1).forEach(function(c){return a.splice(a.indexOf(c),1)}));for(a.map(function(c){return{g:c._dur||c._delay||c._sat&&!c._sat.vars.immediateRender?c.globalTime(0):-1/0,t:c}}).sort(function(c,h){return h.g-c.g||-1/0}).forEach(function(c){return c.t.revert(i)}),l=s.data.length;l--;)u=s.data[l],u instanceof le?u.data!=="nested"&&(u.scrollTrigger&&u.scrollTrigger.revert(),u.kill()):!(u instanceof Q)&&u.revert&&u.revert(i);s._r.forEach(function(c){return c(i,s)}),s.isReverted=!0}():this.data.forEach(function(a){return a.kill&&a.kill()}),this.clear(),n)for(var o=Tt.length;o--;)Tt[o].id===this.id&&Tt.splice(o,1)},e.revert=function(i){this.kill(i||{})},r}(),no=function(){function r(t){this.contexts=[],this.scope=t,W&&W.data.push(this)}var e=r.prototype;return e.add=function(i,n,s){Be(i)||(i={matches:i});var o=new Dr(0,s||this.scope),a=o.conditions={},l,u,c;W&&!o.selector&&(o.selector=W.selector),this.contexts.push(o),n=o.add("onMatch",n),o.queries=i;for(u in i)u==="all"?c=1:(l=Pe.matchMedia(i[u]),l&&(Tt.indexOf(o)<0&&Tt.push(o),(a[u]=l.matches)&&(c=1),l.addListener?l.addListener($i):l.addEventListener("change",$i)));return c&&n(o,function(h){return o.add(null,h)}),this},e.revert=function(i){this.kill(i||{})},e.kill=function(i){this.contexts.forEach(function(n){return n.kill(i,!0)})},r}(),bi={registerPlugin:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];t.forEach(function(n){return wr(n)})},timeline:function(e){return new le(e)},getTweensOf:function(e,t){return H.getTweensOf(e,t)},getProperty:function(e,t,i,n){ee(e)&&(e=Se(e)[0]);var s=gt(e||{}).get,o=i?lr:ar;return i==="native"&&(i=""),e&&(t?o((ge[t]&&ge[t].get||s)(e,t,i,n)):function(a,l,u){return o((ge[a]&&ge[a].get||s)(e,a,l,u))})},quickSetter:function(e,t,i){if(e=Se(e),e.length>1){var n=e.map(function(c){return de.quickSetter(c,t,i)}),s=n.length;return function(c){for(var h=s;h--;)n[h](c)}}e=e[0]||{};var o=ge[t],a=gt(e),l=a.harness&&(a.harness.aliases||{})[t]||t,u=o?function(c){var h=new o;vt._pt=0,h.init(e,i?c+i:c,vt,0,[e]),h.render(1,h),vt._pt&&mn(1,vt)}:a.set(e,l);return o?u:function(c){return u(e,l,i?c+i:c,a,1)}},quickTo:function(e,t,i){var n,s=de.to(e,Ee((n={},n[t]="+=0.1",n.paused=!0,n.stagger=0,n),i||{})),o=function(l,u,c){return s.resetTo(t,l,u,c)};return o.tween=s,o},isTweening:function(e){return H.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=yt(e.ease,Nt.ease)),Rn(Nt,e||{})},config:function(e){return Rn(be,e||{})},registerEffect:function(e){var t=e.name,i=e.effect,n=e.plugins,s=e.defaults,o=e.extendTimeline;(n||"").split(",").forEach(function(a){return a&&!ge[a]&&!we[a]&&Qt(t+" effect requires "+a+" plugin.")}),Ci[t]=function(a,l,u){return i(Se(a),Ee(l||{},s),u)},o&&(le.prototype[t]=function(a,l,u){return this.add(Ci[t](a,Be(l)?l:(u=l)&&{},this),u)})},registerEase:function(e,t){M[e]=yt(t)},parseEase:function(e,t){return arguments.length?yt(e,t):M},getById:function(e){return H.getById(e)},exportRoot:function(e,t){e===void 0&&(e={});var i=new le(e),n,s;for(i.smoothChildTiming=ue(e.smoothChildTiming),H.remove(i),i._dp=0,i._time=i._tTime=H._time,n=H._first;n;)s=n._next,(t||!(!n._dur&&n instanceof Q&&n.vars.onComplete===n._targets[0]))&&ke(i,n,n._start-n._delay),n=s;return ke(H,i,0),i},context:function(e,t){return e?new Dr(e,t):W},matchMedia:function(e){return new no(e)},matchMediaRefresh:function(){return Tt.forEach(function(e){var t=e.conditions,i,n;for(n in t)t[n]&&(t[n]=!1,i=1);i&&e.revert()})||$i()},addEventListener:function(e,t){var i=_i[e]||(_i[e]=[]);~i.indexOf(t)||i.push(t)},removeEventListener:function(e,t){var i=_i[e],n=i&&i.indexOf(t);n>=0&&i.splice(n,1)},utils:{wrap:Ls,wrapYoyo:Ds,distribute:pr,random:mr,snap:gr,normalize:ks,getUnit:ne,clamp:Rs,splitColor:Er,toArray:Se,selector:Wi,mapRange:Tr,pipe:Ps,unitize:Ms,interpolate:Bs,shuffle:_r},install:ir,effects:Ci,ticker:me,updateRoot:le.updateRoot,plugins:ge,globalTimeline:H,core:{PropTween:fe,globals:nr,Tween:Q,Timeline:le,Animation:ii,getCache:gt,_removeLinkedListItem:vi,reverting:function(){return te},context:function(e){return e&&W&&(W.data.push(e),e._ctx=W),W},suppressOverwrites:function(e){return rn=e}}};ce("to,from,fromTo,delayedCall,set,killTweensOf",function(r){return bi[r]=Q[r]});me.add(le.updateRoot);vt=bi.to({},{duration:0});var ro=function(e,t){for(var i=e._pt;i&&i.p!==t&&i.op!==t&&i.fp!==t;)i=i._next;return i},so=function(e,t){var i=e._targets,n,s,o;for(n in t)for(s=i.length;s--;)o=e._ptLookup[s][n],o&&(o=o.d)&&(o._pt&&(o=ro(o,n)),o&&o.modifier&&o.modifier(t[n],e,i[s],n))},ki=function(e,t){return{name:e,headless:1,rawVars:1,init:function(n,s,o){o._onInit=function(a){var l,u;if(ee(s)&&(l={},ce(s,function(c){return l[c]=1}),s=l),t){l={};for(u in s)l[u]=t(s[u]);s=l}so(a,s)}}}},de=bi.registerPlugin({name:"attr",init:function(e,t,i,n,s){var o,a,l;this.tween=i;for(o in t)l=e.getAttribute(o)||"",a=this.add(e,"setAttribute",(l||0)+"",t[o],n,s,0,0,o),a.op=o,a.b=l,this._props.push(o)},render:function(e,t){for(var i=t._pt;i;)te?i.set(i.t,i.p,i.b,i):i.r(e,i.d),i=i._next}},{name:"endArray",headless:1,init:function(e,t){for(var i=t.length;i--;)this.add(e,i,e[i]||0,t[i],0,0,0,0,0,1)}},ki("roundProps",Vi),ki("modifiers"),ki("snap",gr))||bi;Q.version=le.version=de.version="3.14.2";tr=1;on()&&Lt();M.Power0;M.Power1;M.Power2;M.Power3;M.Power4;M.Linear;M.Quad;M.Cubic;M.Quart;M.Quint;M.Strong;M.Elastic;M.Back;M.SteppedEase;M.Bounce;M.Sine;M.Expo;M.Circ;/*!
 * CSSPlugin 3.14.2
 * https://gsap.com
 *
 * Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var Dn,Ze,xt,yn,pt,Bn,Tn,oo=function(){return typeof window<"u"},Xe={},dt=180/Math.PI,At=Math.PI/180,Et=Math.atan2,Gn=1e8,bn=/([A-Z])/g,ao=/(left|right|width|margin|padding|x)/i,lo=/[\s,\(]\S/,Le={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},Xi=function(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},uo=function(e,t){return t.set(t.t,t.p,e===1?t.e:Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},co=function(e,t){return t.set(t.t,t.p,e?Math.round((t.s+t.c*e)*1e4)/1e4+t.u:t.b,t)},fo=function(e,t){return t.set(t.t,t.p,e===1?t.e:e?Math.round((t.s+t.c*e)*1e4)/1e4+t.u:t.b,t)},ho=function(e,t){var i=t.s+t.c*e;t.set(t.t,t.p,~~(i+(i<0?-.5:.5))+t.u,t)},Br=function(e,t){return t.set(t.t,t.p,e?t.e:t.b,t)},Gr=function(e,t){return t.set(t.t,t.p,e!==1?t.b:t.e,t)},_o=function(e,t,i){return e.style[t]=i},po=function(e,t,i){return e.style.setProperty(t,i)},go=function(e,t,i){return e._gsap[t]=i},mo=function(e,t,i){return e._gsap.scaleX=e._gsap.scaleY=i},yo=function(e,t,i,n,s){var o=e._gsap;o.scaleX=o.scaleY=i,o.renderTransform(s,o)},To=function(e,t,i,n,s){var o=e._gsap;o[t]=i,o.renderTransform(s,o)},$="transform",he=$+"Origin",bo=function r(e,t){var i=this,n=this.target,s=n.style,o=n._gsap;if(e in Xe&&s){if(this.tfm=this.tfm||{},e!=="transform")e=Le[e]||e,~e.indexOf(",")?e.split(",").forEach(function(a){return i.tfm[a]=Ye(n,a)}):this.tfm[e]=o.x?o[e]:Ye(n,e),e===he&&(this.tfm.zOrigin=o.zOrigin);else return Le.transform.split(",").forEach(function(a){return r.call(i,a,t)});if(this.props.indexOf($)>=0)return;o.svg&&(this.svgo=n.getAttribute("data-svg-origin"),this.props.push(he,t,"")),e=$}(s||t)&&this.props.push(e,t,s[e])},Ur=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},wo=function(){var e=this.props,t=this.target,i=t.style,n=t._gsap,s,o;for(s=0;s<e.length;s+=3)e[s+1]?e[s+1]===2?t[e[s]](e[s+2]):t[e[s]]=e[s+2]:e[s+2]?i[e[s]]=e[s+2]:i.removeProperty(e[s].substr(0,2)==="--"?e[s]:e[s].replace(bn,"-$1").toLowerCase());if(this.tfm){for(o in this.tfm)n[o]=this.tfm[o];n.svg&&(n.renderTransform(),t.setAttribute("data-svg-origin",this.svgo||"")),s=Tn(),(!s||!s.isStart)&&!i[$]&&(Ur(i),n.zOrigin&&i[he]&&(i[he]+=" "+n.zOrigin+"px",n.zOrigin=0,n.renderTransform()),n.uncache=1)}},Fr=function(e,t){var i={target:e,props:[],revert:wo,save:bo};return e._gsap||de.core.getCache(e),t&&e.style&&e.nodeType&&t.split(",").forEach(function(n){return i.save(n)}),i},zr,qi=function(e,t){var i=Ze.createElementNS?Ze.createElementNS((t||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):Ze.createElement(e);return i&&i.style?i:Ze.createElement(e)},Te=function r(e,t,i){var n=getComputedStyle(e);return n[t]||n.getPropertyValue(t.replace(bn,"-$1").toLowerCase())||n.getPropertyValue(t)||!i&&r(e,Dt(t)||t,1)||""},Un="O,Moz,ms,Ms,Webkit".split(","),Dt=function(e,t,i){var n=t||pt,s=n.style,o=5;if(e in s&&!i)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);o--&&!(Un[o]+e in s););return o<0?null:(o===3?"ms":o>=0?Un[o]:"")+e},Ji=function(){oo()&&window.document&&(Dn=window,Ze=Dn.document,xt=Ze.documentElement,pt=qi("div")||{style:{}},qi("div"),$=Dt($),he=$+"Origin",pt.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",zr=!!Dt("perspective"),Tn=de.core.reverting,yn=1)},Fn=function(e){var t=e.ownerSVGElement,i=qi("svg",t&&t.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),n=e.cloneNode(!0),s;n.style.display="block",i.appendChild(n),xt.appendChild(i);try{s=n.getBBox()}catch{}return i.removeChild(n),xt.removeChild(i),s},zn=function(e,t){for(var i=t.length;i--;)if(e.hasAttribute(t[i]))return e.getAttribute(t[i])},Yr=function(e){var t,i;try{t=e.getBBox()}catch{t=Fn(e),i=1}return t&&(t.width||t.height)||i||(t=Fn(e)),t&&!t.width&&!t.x&&!t.y?{x:+zn(e,["x","cx","x1"])||0,y:+zn(e,["y","cy","y1"])||0,width:0,height:0}:t},Wr=function(e){return!!(e.getCTM&&(!e.parentNode||e.ownerSVGElement)&&Yr(e))},rt=function(e,t){if(t){var i=e.style,n;t in Xe&&t!==he&&(t=$),i.removeProperty?(n=t.substr(0,2),(n==="ms"||t.substr(0,6)==="webkit")&&(t="-"+t),i.removeProperty(n==="--"?t:t.replace(bn,"-$1").toLowerCase())):i.removeAttribute(t)}},et=function(e,t,i,n,s,o){var a=new fe(e._pt,t,i,0,1,o?Gr:Br);return e._pt=a,a.b=n,a.e=s,e._props.push(i),a},Yn={deg:1,rad:1,turn:1},Eo={grid:1,flex:1},st=function r(e,t,i,n){var s=parseFloat(i)||0,o=(i+"").trim().substr((s+"").length)||"px",a=pt.style,l=ao.test(t),u=e.tagName.toLowerCase()==="svg",c=(u?"client":"offset")+(l?"Width":"Height"),h=100,d=n==="px",_=n==="%",p,f,g,T;if(n===o||!s||Yn[n]||Yn[o])return s;if(o!=="px"&&!d&&(s=r(e,t,i,"px")),T=e.getCTM&&Wr(e),(_||o==="%")&&(Xe[t]||~t.indexOf("adius")))return p=T?e.getBBox()[l?"width":"height"]:e[c],K(_?s/p*h:s/100*p);if(a[l?"width":"height"]=h+(d?o:n),f=n!=="rem"&&~t.indexOf("adius")||n==="em"&&e.appendChild&&!u?e:e.parentNode,T&&(f=(e.ownerSVGElement||{}).parentNode),(!f||f===Ze||!f.appendChild)&&(f=Ze.body),g=f._gsap,g&&_&&g.width&&l&&g.time===me.time&&!g.uncache)return K(s/g.width*h);if(_&&(t==="height"||t==="width")){var b=e.style[t];e.style[t]=h+n,p=e[c],b?e.style[t]=b:rt(e,t)}else(_||o==="%")&&!Eo[Te(f,"display")]&&(a.position=Te(e,"position")),f===e&&(a.position="static"),f.appendChild(pt),p=pt[c],f.removeChild(pt),a.position="absolute";return l&&_&&(g=gt(f),g.time=me.time,g.width=f[c]),K(d?p*s/h:p&&s?h/p*s:0)},Ye=function(e,t,i,n){var s;return yn||Ji(),t in Le&&t!=="transform"&&(t=Le[t],~t.indexOf(",")&&(t=t.split(",")[0])),Xe[t]&&t!=="transform"?(s=ri(e,n),s=t!=="transformOrigin"?s[t]:s.svg?s.origin:Ei(Te(e,he))+" "+s.zOrigin+"px"):(s=e.style[t],(!s||s==="auto"||n||~(s+"").indexOf("calc("))&&(s=wi[t]&&wi[t](e,t,i)||Te(e,t)||sr(e,t)||(t==="opacity"?1:0))),i&&!~(s+"").trim().indexOf(" ")?st(e,t,s,i)+i:s},Oo=function(e,t,i,n){if(!i||i==="none"){var s=Dt(t,e,1),o=s&&Te(e,s,1);o&&o!==i?(t=s,i=o):t==="borderColor"&&(i=Te(e,"borderTopColor"))}var a=new fe(this._pt,e.style,t,0,1,kr),l=0,u=0,c,h,d,_,p,f,g,T,b,w,E,y;if(a.b=i,a.e=n,i+="",n+="",n.substring(0,6)==="var(--"&&(n=Te(e,n.substring(4,n.indexOf(")")))),n==="auto"&&(f=e.style[t],e.style[t]=n,n=Te(e,t)||n,f?e.style[t]=f:rt(e,t)),c=[i,n],vr(c),i=c[0],n=c[1],d=i.match(Ot)||[],y=n.match(Ot)||[],y.length){for(;h=Ot.exec(n);)g=h[0],b=n.substring(l,h.index),p?p=(p+1)%5:(b.substr(-5)==="rgba("||b.substr(-5)==="hsla(")&&(p=1),g!==(f=d[u++]||"")&&(_=parseFloat(f)||0,E=f.substr((_+"").length),g.charAt(1)==="="&&(g=St(_,g)+E),T=parseFloat(g),w=g.substr((T+"").length),l=Ot.lastIndex-w.length,w||(w=w||be.units[t]||E,l===n.length&&(n+=w,a.e+=w)),E!==w&&(_=st(e,t,f,w)||0),a._pt={_next:a._pt,p:b||u===1?b:",",s:_,c:T-_,m:p&&p<4||t==="zIndex"?Math.round:0});a.c=l<n.length?n.substring(l,n.length):""}else a.r=t==="display"&&n==="none"?Gr:Br;return er.test(n)&&(a.e=0),this._pt=a,a},Wn={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},vo=function(e){var t=e.split(" "),i=t[0],n=t[1]||"50%";return(i==="top"||i==="bottom"||n==="left"||n==="right")&&(e=i,i=n,n=e),t[0]=Wn[i]||i,t[1]=Wn[n]||n,t.join(" ")},So=function(e,t){if(t.tween&&t.tween._time===t.tween._dur){var i=t.t,n=i.style,s=t.u,o=i._gsap,a,l,u;if(s==="all"||s===!0)n.cssText="",l=1;else for(s=s.split(","),u=s.length;--u>-1;)a=s[u],Xe[a]&&(l=1,a=a==="transformOrigin"?he:$),rt(i,a);l&&(rt(i,$),o&&(o.svg&&i.removeAttribute("transform"),n.scale=n.rotate=n.translate="none",ri(i,1),o.uncache=1,Ur(n)))}},wi={clearProps:function(e,t,i,n,s){if(s.data!=="isFromStart"){var o=e._pt=new fe(e._pt,t,i,0,0,So);return o.u=n,o.pr=-10,o.tween=s,e._props.push(i),1}}},ni=[1,0,0,1,0,0],Vr={},Hr=function(e){return e==="matrix(1, 0, 0, 1, 0, 0)"||e==="none"||!e},Vn=function(e){var t=Te(e,$);return Hr(t)?ni:t.substr(7).match(Zn).map(K)},wn=function(e,t){var i=e._gsap||gt(e),n=e.style,s=Vn(e),o,a,l,u;return i.svg&&e.getAttribute("transform")?(l=e.transform.baseVal.consolidate().matrix,s=[l.a,l.b,l.c,l.d,l.e,l.f],s.join(",")==="1,0,0,1,0,0"?ni:s):(s===ni&&!e.offsetParent&&e!==xt&&!i.svg&&(l=n.display,n.display="block",o=e.parentNode,(!o||!e.offsetParent&&!e.getBoundingClientRect().width)&&(u=1,a=e.nextElementSibling,xt.appendChild(e)),s=Vn(e),l?n.display=l:rt(e,"display"),u&&(a?o.insertBefore(e,a):o?o.appendChild(e):xt.removeChild(e))),t&&s.length>6?[s[0],s[1],s[4],s[5],s[12],s[13]]:s)},ji=function(e,t,i,n,s,o){var a=e._gsap,l=s||wn(e,!0),u=a.xOrigin||0,c=a.yOrigin||0,h=a.xOffset||0,d=a.yOffset||0,_=l[0],p=l[1],f=l[2],g=l[3],T=l[4],b=l[5],w=t.split(" "),E=parseFloat(w[0])||0,y=parseFloat(w[1])||0,x,A,S,O;i?l!==ni&&(A=_*g-p*f)&&(S=E*(g/A)+y*(-f/A)+(f*b-g*T)/A,O=E*(-p/A)+y*(_/A)-(_*b-p*T)/A,E=S,y=O):(x=Yr(e),E=x.x+(~w[0].indexOf("%")?E/100*x.width:E),y=x.y+(~(w[1]||w[0]).indexOf("%")?y/100*x.height:y)),n||n!==!1&&a.smooth?(T=E-u,b=y-c,a.xOffset=h+(T*_+b*f)-T,a.yOffset=d+(T*p+b*g)-b):a.xOffset=a.yOffset=0,a.xOrigin=E,a.yOrigin=y,a.smooth=!!n,a.origin=t,a.originIsAbsolute=!!i,e.style[he]="0px 0px",o&&(et(o,a,"xOrigin",u,E),et(o,a,"yOrigin",c,y),et(o,a,"xOffset",h,a.xOffset),et(o,a,"yOffset",d,a.yOffset)),e.setAttribute("data-svg-origin",E+" "+y)},ri=function(e,t){var i=e._gsap||new Ir(e);if("x"in i&&!t&&!i.uncache)return i;var n=e.style,s=i.scaleX<0,o="px",a="deg",l=getComputedStyle(e),u=Te(e,he)||"0",c,h,d,_,p,f,g,T,b,w,E,y,x,A,S,O,P,L,D,B,Z,J,Y,j,Ae,ai,Ut,Ft,ut,xn,Ue,ct;return c=h=d=f=g=T=b=w=E=0,_=p=1,i.svg=!!(e.getCTM&&Wr(e)),l.translate&&((l.translate!=="none"||l.scale!=="none"||l.rotate!=="none")&&(n[$]=(l.translate!=="none"?"translate3d("+(l.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(l.rotate!=="none"?"rotate("+l.rotate+") ":"")+(l.scale!=="none"?"scale("+l.scale.split(" ").join(",")+") ":"")+(l[$]!=="none"?l[$]:"")),n.scale=n.rotate=n.translate="none"),A=wn(e,i.svg),i.svg&&(i.uncache?(Ae=e.getBBox(),u=i.xOrigin-Ae.x+"px "+(i.yOrigin-Ae.y)+"px",j=""):j=!t&&e.getAttribute("data-svg-origin"),ji(e,j||u,!!j||i.originIsAbsolute,i.smooth!==!1,A)),y=i.xOrigin||0,x=i.yOrigin||0,A!==ni&&(L=A[0],D=A[1],B=A[2],Z=A[3],c=J=A[4],h=Y=A[5],A.length===6?(_=Math.sqrt(L*L+D*D),p=Math.sqrt(Z*Z+B*B),f=L||D?Et(D,L)*dt:0,b=B||Z?Et(B,Z)*dt+f:0,b&&(p*=Math.abs(Math.cos(b*At))),i.svg&&(c-=y-(y*L+x*B),h-=x-(y*D+x*Z))):(ct=A[6],xn=A[7],Ut=A[8],Ft=A[9],ut=A[10],Ue=A[11],c=A[12],h=A[13],d=A[14],S=Et(ct,ut),g=S*dt,S&&(O=Math.cos(-S),P=Math.sin(-S),j=J*O+Ut*P,Ae=Y*O+Ft*P,ai=ct*O+ut*P,Ut=J*-P+Ut*O,Ft=Y*-P+Ft*O,ut=ct*-P+ut*O,Ue=xn*-P+Ue*O,J=j,Y=Ae,ct=ai),S=Et(-B,ut),T=S*dt,S&&(O=Math.cos(-S),P=Math.sin(-S),j=L*O-Ut*P,Ae=D*O-Ft*P,ai=B*O-ut*P,Ue=Z*P+Ue*O,L=j,D=Ae,B=ai),S=Et(D,L),f=S*dt,S&&(O=Math.cos(S),P=Math.sin(S),j=L*O+D*P,Ae=J*O+Y*P,D=D*O-L*P,Y=Y*O-J*P,L=j,J=Ae),g&&Math.abs(g)+Math.abs(f)>359.9&&(g=f=0,T=180-T),_=K(Math.sqrt(L*L+D*D+B*B)),p=K(Math.sqrt(Y*Y+ct*ct)),S=Et(J,Y),b=Math.abs(S)>2e-4?S*dt:0,E=Ue?1/(Ue<0?-Ue:Ue):0),i.svg&&(j=e.getAttribute("transform"),i.forceCSS=e.setAttribute("transform","")||!Hr(Te(e,$)),j&&e.setAttribute("transform",j))),Math.abs(b)>90&&Math.abs(b)<270&&(s?(_*=-1,b+=f<=0?180:-180,f+=f<=0?180:-180):(p*=-1,b+=b<=0?180:-180)),t=t||i.uncache,i.x=c-((i.xPercent=c&&(!t&&i.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-c)?-50:0)))?e.offsetWidth*i.xPercent/100:0)+o,i.y=h-((i.yPercent=h&&(!t&&i.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-h)?-50:0)))?e.offsetHeight*i.yPercent/100:0)+o,i.z=d+o,i.scaleX=K(_),i.scaleY=K(p),i.rotation=K(f)+a,i.rotationX=K(g)+a,i.rotationY=K(T)+a,i.skewX=b+a,i.skewY=w+a,i.transformPerspective=E+o,(i.zOrigin=parseFloat(u.split(" ")[2])||!t&&i.zOrigin||0)&&(n[he]=Ei(u)),i.xOffset=i.yOffset=0,i.force3D=be.force3D,i.renderTransform=i.svg?Ao:zr?$r:xo,i.uncache=0,i},Ei=function(e){return(e=e.split(" "))[0]+" "+e[1]},Li=function(e,t,i){var n=ne(t);return K(parseFloat(t)+parseFloat(st(e,"x",i+"px",n)))+n},xo=function(e,t){t.z="0px",t.rotationY=t.rotationX="0deg",t.force3D=0,$r(e,t)},ft="0deg",zt="0px",ht=") ",$r=function(e,t){var i=t||this,n=i.xPercent,s=i.yPercent,o=i.x,a=i.y,l=i.z,u=i.rotation,c=i.rotationY,h=i.rotationX,d=i.skewX,_=i.skewY,p=i.scaleX,f=i.scaleY,g=i.transformPerspective,T=i.force3D,b=i.target,w=i.zOrigin,E="",y=T==="auto"&&e&&e!==1||T===!0;if(w&&(h!==ft||c!==ft)){var x=parseFloat(c)*At,A=Math.sin(x),S=Math.cos(x),O;x=parseFloat(h)*At,O=Math.cos(x),o=Li(b,o,A*O*-w),a=Li(b,a,-Math.sin(x)*-w),l=Li(b,l,S*O*-w+w)}g!==zt&&(E+="perspective("+g+ht),(n||s)&&(E+="translate("+n+"%, "+s+"%) "),(y||o!==zt||a!==zt||l!==zt)&&(E+=l!==zt||y?"translate3d("+o+", "+a+", "+l+") ":"translate("+o+", "+a+ht),u!==ft&&(E+="rotate("+u+ht),c!==ft&&(E+="rotateY("+c+ht),h!==ft&&(E+="rotateX("+h+ht),(d!==ft||_!==ft)&&(E+="skew("+d+", "+_+ht),(p!==1||f!==1)&&(E+="scale("+p+", "+f+ht),b.style[$]=E||"translate(0, 0)"},Ao=function(e,t){var i=t||this,n=i.xPercent,s=i.yPercent,o=i.x,a=i.y,l=i.rotation,u=i.skewX,c=i.skewY,h=i.scaleX,d=i.scaleY,_=i.target,p=i.xOrigin,f=i.yOrigin,g=i.xOffset,T=i.yOffset,b=i.forceCSS,w=parseFloat(o),E=parseFloat(a),y,x,A,S,O;l=parseFloat(l),u=parseFloat(u),c=parseFloat(c),c&&(c=parseFloat(c),u+=c,l+=c),l||u?(l*=At,u*=At,y=Math.cos(l)*h,x=Math.sin(l)*h,A=Math.sin(l-u)*-d,S=Math.cos(l-u)*d,u&&(c*=At,O=Math.tan(u-c),O=Math.sqrt(1+O*O),A*=O,S*=O,c&&(O=Math.tan(c),O=Math.sqrt(1+O*O),y*=O,x*=O)),y=K(y),x=K(x),A=K(A),S=K(S)):(y=h,S=d,x=A=0),(w&&!~(o+"").indexOf("px")||E&&!~(a+"").indexOf("px"))&&(w=st(_,"x",o,"px"),E=st(_,"y",a,"px")),(p||f||g||T)&&(w=K(w+p-(p*y+f*A)+g),E=K(E+f-(p*x+f*S)+T)),(n||s)&&(O=_.getBBox(),w=K(w+n/100*O.width),E=K(E+s/100*O.height)),O="matrix("+y+","+x+","+A+","+S+","+w+","+E+")",_.setAttribute("transform",O),b&&(_.style[$]=O)},Io=function(e,t,i,n,s){var o=360,a=ee(s),l=parseFloat(s)*(a&&~s.indexOf("rad")?dt:1),u=l-n,c=n+u+"deg",h,d;return a&&(h=s.split("_")[1],h==="short"&&(u%=o,u!==u%(o/2)&&(u+=u<0?o:-o)),h==="cw"&&u<0?u=(u+o*Gn)%o-~~(u/o)*o:h==="ccw"&&u>0&&(u=(u-o*Gn)%o-~~(u/o)*o)),e._pt=d=new fe(e._pt,t,i,n,u,uo),d.e=c,d.u="deg",e._props.push(i),d},Hn=function(e,t){for(var i in t)e[i]=t[i];return e},Co=function(e,t,i){var n=Hn({},i._gsap),s="perspective,force3D,transformOrigin,svgOrigin",o=i.style,a,l,u,c,h,d,_,p;n.svg?(u=i.getAttribute("transform"),i.setAttribute("transform",""),o[$]=t,a=ri(i,1),rt(i,$),i.setAttribute("transform",u)):(u=getComputedStyle(i)[$],o[$]=t,a=ri(i,1),o[$]=u);for(l in Xe)u=n[l],c=a[l],u!==c&&s.indexOf(l)<0&&(_=ne(u),p=ne(c),h=_!==p?st(i,l,u,p):parseFloat(u),d=parseFloat(c),e._pt=new fe(e._pt,a,l,h,d-h,Xi),e._pt.u=p||0,e._props.push(l));Hn(a,n)};ce("padding,margin,Width,Radius",function(r,e){var t="Top",i="Right",n="Bottom",s="Left",o=(e<3?[t,i,n,s]:[t+s,t+i,n+i,n+s]).map(function(a){return e<2?r+a:"border"+a+r});wi[e>1?"border"+r:r]=function(a,l,u,c,h){var d,_;if(arguments.length<4)return d=o.map(function(p){return Ye(a,p,u)}),_=d.join(" "),_.split(d[0]).length===5?d[0]:_;d=(c+"").split(" "),_={},o.forEach(function(p,f){return _[p]=d[f]=d[f]||d[(f-1)/2|0]}),a.init(l,_,h)}});var Xr={name:"css",register:Ji,targetTest:function(e){return e.style&&e.nodeType},init:function(e,t,i,n,s){var o=this._props,a=e.style,l=i.vars.startAt,u,c,h,d,_,p,f,g,T,b,w,E,y,x,A,S,O;yn||Ji(),this.styles=this.styles||Fr(e),S=this.styles.props,this.tween=i;for(f in t)if(f!=="autoRound"&&(c=t[f],!(ge[f]&&Cr(f,t,i,n,e,s)))){if(_=typeof c,p=wi[f],_==="function"&&(c=c.call(i,n,e,s),_=typeof c),_==="string"&&~c.indexOf("random(")&&(c=ei(c)),p)p(this,e,f,c,i)&&(A=1);else if(f.substr(0,2)==="--")u=(getComputedStyle(e).getPropertyValue(f)+"").trim(),c+="",it.lastIndex=0,it.test(u)||(g=ne(u),T=ne(c),T?g!==T&&(u=st(e,f,u,T)+T):g&&(c+=g)),this.add(a,"setProperty",u,c,n,s,0,0,f),o.push(f),S.push(f,0,a[f]);else if(_!=="undefined"){if(l&&f in l?(u=typeof l[f]=="function"?l[f].call(i,n,e,s):l[f],ee(u)&&~u.indexOf("random(")&&(u=ei(u)),ne(u+"")||u==="auto"||(u+=be.units[f]||ne(Ye(e,f))||""),(u+"").charAt(1)==="="&&(u=Ye(e,f))):u=Ye(e,f),d=parseFloat(u),b=_==="string"&&c.charAt(1)==="="&&c.substr(0,2),b&&(c=c.substr(2)),h=parseFloat(c),f in Le&&(f==="autoAlpha"&&(d===1&&Ye(e,"visibility")==="hidden"&&h&&(d=0),S.push("visibility",0,a.visibility),et(this,a,"visibility",d?"inherit":"hidden",h?"inherit":"hidden",!h)),f!=="scale"&&f!=="transform"&&(f=Le[f],~f.indexOf(",")&&(f=f.split(",")[0]))),w=f in Xe,w){if(this.styles.save(f),O=c,_==="string"&&c.substring(0,6)==="var(--"){if(c=Te(e,c.substring(4,c.indexOf(")"))),c.substring(0,5)==="calc("){var P=e.style.perspective;e.style.perspective=c,c=Te(e,"perspective"),P?e.style.perspective=P:rt(e,"perspective")}h=parseFloat(c)}if(E||(y=e._gsap,y.renderTransform&&!t.parseTransform||ri(e,t.parseTransform),x=t.smoothOrigin!==!1&&y.smooth,E=this._pt=new fe(this._pt,a,$,0,1,y.renderTransform,y,0,-1),E.dep=1),f==="scale")this._pt=new fe(this._pt,y,"scaleY",y.scaleY,(b?St(y.scaleY,b+h):h)-y.scaleY||0,Xi),this._pt.u=0,o.push("scaleY",f),f+="X";else if(f==="transformOrigin"){S.push(he,0,a[he]),c=vo(c),y.svg?ji(e,c,0,x,0,this):(T=parseFloat(c.split(" ")[2])||0,T!==y.zOrigin&&et(this,y,"zOrigin",y.zOrigin,T),et(this,a,f,Ei(u),Ei(c)));continue}else if(f==="svgOrigin"){ji(e,c,1,x,0,this);continue}else if(f in Vr){Io(this,y,f,d,b?St(d,b+c):c);continue}else if(f==="smoothOrigin"){et(this,y,"smooth",y.smooth,c);continue}else if(f==="force3D"){y[f]=c;continue}else if(f==="transform"){Co(this,c,e);continue}}else f in a||(f=Dt(f)||f);if(w||(h||h===0)&&(d||d===0)&&!lo.test(c)&&f in a)g=(u+"").substr((d+"").length),h||(h=0),T=ne(c)||(f in be.units?be.units[f]:g),g!==T&&(d=st(e,f,u,T)),this._pt=new fe(this._pt,w?y:a,f,d,(b?St(d,b+h):h)-d,!w&&(T==="px"||f==="zIndex")&&t.autoRound!==!1?ho:Xi),this._pt.u=T||0,w&&O!==c?(this._pt.b=u,this._pt.e=O,this._pt.r=fo):g!==T&&T!=="%"&&(this._pt.b=u,this._pt.r=co);else if(f in a)Oo.call(this,e,f,u,b?b+c:c);else if(f in e)this.add(e,f,u||e[f],b?b+c:c,n,s);else if(f!=="parseTransform"){ln(f,c);continue}w||(f in a?S.push(f,0,a[f]):typeof e[f]=="function"?S.push(f,2,e[f]()):S.push(f,1,u||e[f])),o.push(f)}}A&&Lr(this)},render:function(e,t){if(t.tween._time||!Tn())for(var i=t._pt;i;)i.r(e,i.d),i=i._next;else t.styles.revert()},get:Ye,aliases:Le,getSetter:function(e,t,i){var n=Le[t];return n&&n.indexOf(",")<0&&(t=n),t in Xe&&t!==he&&(e._gsap.x||Ye(e,"x"))?i&&Bn===i?t==="scale"?mo:go:(Bn=i||{})&&(t==="scale"?yo:To):e.style&&!sn(e.style[t])?_o:~t.indexOf("-")?po:gn(e,t)},core:{_removeProperty:rt,_getMatrix:wn}};de.utils.checkPrefix=Dt;de.core.getStyleSaver=Fr;(function(r,e,t,i){var n=ce(r+","+e+","+t,function(s){Xe[s]=1});ce(e,function(s){be.units[s]="deg",Vr[s]=1}),Le[n[13]]=r+","+e,ce(i,function(s){var o=s.split(":");Le[o[1]]=n[o[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");ce("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(r){be.units[r]="px"});de.registerPlugin(Xr);var Je=de.registerPlugin(Xr)||de;Je.core.Tween;const se={title:0,combo:0,input:0,ui:0};let _t=[],It=null,pi=null;function Ro(){if(No(),Je.ticker.wake(),pi=document.getElementById("title-overlay"),It=document.getElementById("game-title"),It){const n=Je.to(It,{scale:1.04,duration:1.5,ease:"sine.inOut",yoyo:!0,repeat:-1,transformOrigin:"center center"});_t.push(n)}const r=Je.to(se,{title:1,duration:1.5,ease:"sine.inOut",yoyo:!0,repeat:-1});_t.push(r);const e=Je.to(se,{combo:1,duration:1.2,ease:"sine.inOut",yoyo:!0,repeat:-1});e.play(),_t.push(e);const t=Je.to(se,{input:1,duration:1,ease:"sine.inOut",yoyo:!0,repeat:-1});t.play(),_t.push(t);const i=Je.to(se,{ui:1,duration:.8,ease:"sine.inOut",yoyo:!0,repeat:-1});i.play(),_t.push(i),console.log("GSAP animations initialized, ticker fps:",Je.ticker.fps)}function No(){_t.forEach(r=>r.kill()),_t=[],se.title=0,se.combo=0,se.input=0,se.ui=0}function Po(r,e,t){!pi||!It||(r?(pi.style.display="block",It.style.top=`${e}px`,It.style.fontSize=`${t}px`):pi.style.display="none")}const De=2,qr="rgba(0, 0, 0, 0.4)",Re=640,Mo=480,ko=()=>window.matchMedia("(pointer: coarse)").matches,wt="#000005",Lo="#000007",Do="#000007";function Bo(r,e,t){const i=u=>{const c=u.replace("#","");return{r:parseInt(c.slice(0,2),16),g:parseInt(c.slice(2,4),16),b:parseInt(c.slice(4,6),16)}},n=i(r),s=i(e),o=Math.round(n.r+(s.r-n.r)*t),a=Math.round(n.g+(s.g-n.g)*t),l=Math.round(n.b+(s.b-n.b)*t);return`rgb(${o}, ${a}, ${l})`}let Ct,m,R,ui=null,Me=null,En=null,$t=null,Xt=null;function Go(){if(Ct=document.getElementById("game"),!Ct)return!1;const r=Ct.getContext("2d");if(!r)return!1;m=r,window.addEventListener("resize",Xn),Xn(),ui=new Image,ui.onload=()=>{Me=Fo(ui,255,80,80)},ui.src="/assets/heart-white.svg",En=new Image,Uo();const e=document.getElementById("loading");return e&&(e.style.display="none"),!0}function Uo(){const e=document.createElement("canvas");e.width=512,e.height=512;const t=e.getContext("2d");t.imageSmoothingEnabled=!0,t.imageSmoothingQuality="high",t.fillStyle="#ffffff",t.beginPath(),t.arc(512/2,512/2,512/2-4,0,Math.PI*2),t.fill(),En.src=e.toDataURL(),$t=document.createElement("canvas"),$t.width=512,$t.height=512;const i=$t.getContext("2d");i.imageSmoothingEnabled=!0,i.imageSmoothingQuality="high",i.drawImage(e,0,0),i.globalCompositeOperation="source-atop",i.fillStyle="rgb(255, 255, 255)",i.fillRect(0,0,512,512),Xt=document.createElement("canvas"),Xt.width=512,Xt.height=512;const n=Xt.getContext("2d");n.imageSmoothingEnabled=!0,n.imageSmoothingQuality="high",n.globalAlpha=200/255,n.drawImage(e,0,0),n.globalAlpha=1,n.globalCompositeOperation="source-atop",n.fillStyle="rgb(200, 200, 200)",n.fillRect(0,0,512,512)}function Fo(r,e,t,i){const s=document.createElement("canvas");s.width=128,s.height=128;const o=s.getContext("2d");return o.imageSmoothingEnabled=!0,o.imageSmoothingQuality="high",o.globalAlpha=200/255,o.drawImage(r,0,0,128,128),o.globalAlpha=1,o.globalCompositeOperation="source-atop",o.fillStyle=`rgb(${e}, ${t}, ${i})`,o.fillRect(0,0,128,128),s}let ci=null,$n=null;function Xn(){const r=window.devicePixelRatio||1,e=Ct.getBoundingClientRect();(ci===null||e.width!==ci)&&(ci=e.width,$n=e.height);const t=ci,i=$n;Ct.width=t*r,Ct.height=i*r,m.scale(r,r),m.imageSmoothingEnabled=!0,m.imageSmoothingQuality="high";const n=t/Re,s=i/Mo;R={windowWidth:t,windowHeight:i,scaleX:n,scaleY:s,scale:Math.min(n,s)}}function Ie(r){return r*R.scaleX}function C(r){return r*R.scaleY}function N(r){return Math.round(r*R.scale*1)}function Jr(r,e,t,i,n=1){if(i>0){const s=-Math.PI/2,o=s+i*Math.PI*2,a=.4+.6*i,l=t*n*a;m.beginPath(),m.moveTo(r,e),m.arc(r,e,l,s,o),m.closePath(),m.fillStyle="rgba(255, 255, 255, 1.0)",m.fill()}}function k(r,e,t,i,n,s=!1){m.font=`${n}px sans-serif`,m.fillStyle=i,m.textBaseline="top";const o=m.measureText(r).width,a=s?e-o/2:e;m.fillStyle=qr,m.fillText(r,a+De,t+De),m.fillStyle=i,m.fillText(r,a,t)}function jr(r,e,t,i,n){if(!r||!e){k(r||"_",t,i,"#ffff00",n,!0);return}m.font=`${n}px sans-serif`,m.textBaseline="top";const s=r.toUpperCase().indexOf(e.toUpperCase()),o="#ffff00",a="#ffffaa";if(s===-1){k(r,t,i,o,n,!0);return}const l=r.substring(0,s),u=r.substring(s,s+e.length),c=r.substring(s+e.length),h=m.measureText(r).width;let d=t-h/2;m.fillStyle=qr,m.fillText(r,d+De,i+De),l&&(m.fillStyle=o,m.fillText(l,d,i),d+=m.measureText(l).width),m.fillStyle=a,m.fillText(u,d,i),d+=m.measureText(u).width,c&&(m.fillStyle=o,m.fillText(c,d,i))}function qe(r,e,t,i,n,s,o,a=!0){const l=Bo(i,n,o);k(r,e,t,l,s,a)}function at(){const r=m.createRadialGradient(R.windowWidth/2,R.windowHeight/2,0,R.windowWidth/2,R.windowHeight/2,Math.max(R.windowWidth,R.windowHeight)*.7);r.addColorStop(0,"rgba(0, 0, 0, 0)"),r.addColorStop(1,"rgba(0, 0, 0, 0.6)"),m.fillStyle=r,m.fillRect(0,0,R.windowWidth,R.windowHeight)}function Rt(r,e){e<=0||(m.fillStyle=r.replace("1)",`${e})`),m.fillRect(0,0,R.windowWidth,R.windowHeight))}function Ne(r,e,t,i,n,s=0){const o=Ie(e),a=C(t),l=Ie(i),u=C(n),c=Math.min(u/2,20),d=`rgba(80, 50, 120, ${.6+s*.4})`;m.strokeStyle=d,m.lineWidth=6,m.lineCap="round",m.lineJoin="round",m.shadowColor=d,m.shadowBlur=0,m.beginPath(),m.roundRect(o,a,l,u,c),m.stroke(),m.shadowBlur=0;const _=N(20);m.font=`${_}px sans-serif`;const p=Math.round(180+s*75);m.fillStyle=`rgb(${p}, ${p}, ${p})`,m.textBaseline="middle";const f=m.measureText(r).width;m.fillText(r,o+(l-f)/2,a+u/2)}function Ai(r){var t;const e=((t=r.buttonHighlightOpacity)==null?void 0:t.back)||0;Ne("< Tagasi",10,10,100,35,e)}function zo(r){if(!m)return;const e=r.phase===v.MAIN_MENU;switch(Po(e,C(80),N(80)),r.phase){case v.MAIN_MENU:Yo(r);break;case v.SERVER_CONNECT:Wo(r);break;case v.CONNECTING:Vo(r);break;case v.LOBBY_CREATE:Ho(r);break;case v.LOBBY_JOIN:$o(r);break;case v.LOBBY_WAITING:Xo(r);break;case v.PLAYING:qo(r);break;case v.SPECTATING:Jo(r);break;case v.GAME_OVER:jo(r);break}}function Yo(r){var n,s;m.fillStyle=Lo,m.fillRect(0,0,R.windowWidth,R.windowHeight),at();const e=R.windowWidth/2,t=((n=r.buttonHighlightOpacity)==null?void 0:n.create)||0,i=((s=r.buttonHighlightOpacity)==null?void 0:s.join)||0;Ne("LOO MNG",Re/2-100,212,200,50,t),Ne("LIITU MNGUGA",Re/2-100,292,200,50,i),k("qqqqq2d",e,C(430),"rgba(120, 120, 120, 0.5)",N(20),!0)}function Wo(r){var o;m.fillStyle=wt,m.fillRect(0,0,R.windowWidth,R.windowHeight),at();const e=R.windowWidth/2;Ai(r);const t=r.joiningGame?"LIITU MNGUGA":"LOO MNG";k(t,e,C(80),"#ffffff",N(40),!0),k("Sinu nimi:",e,C(160),"#ffffff",N(20),!0);const i=r.playerName+"|",n=se.input;qe(i,e,C(195),"#cccc00","#ffff00",N(24),n,!0);const s=((o=r.buttonHighlightOpacity)==null?void 0:o.continue)||0;Ne("Jtka",Re/2-60,260,120,40,s)}function Vo(r){m.fillStyle=wt,m.fillRect(0,0,R.windowWidth,R.windowHeight),at();const e=R.windowWidth/2;k("HENDAMINE...",e,C(200),"#ffffff",N(40),!0),k(r.serverAddress,e,C(260),"#b4b4b4",N(24),!0),r.connectionRetry>0&&k(`Katse ${r.connectionRetry}/3...`,e,C(300),"#ffaa00",N(20),!0)}function Ho(r){var s;m.fillStyle=wt,m.fillRect(0,0,R.windowWidth,R.windowHeight),at();const e=R.windowWidth/2;Ai(r),k("LOO MNG",e,C(80),"#ffffff",N(40),!0),k("Mngu nimi:",e,C(160),"#ffffff",N(20),!0);const t=r.gameName+"|",i=se.input;qe(t,e,C(195),"#cccc00","#ffff00",N(24),i,!0);const n=((s=r.buttonHighlightOpacity)==null?void 0:s.create)||0;Ne("Loo",Re/2-60,260,120,40,n)}function $o(r){var n;m.fillStyle=wt,m.fillRect(0,0,R.windowWidth,R.windowHeight),at();const e=R.windowWidth/2;Ai(r);const t=((n=r.buttonHighlightOpacity)==null?void 0:n.refresh)||0;Ne("Vrskenda",Re-110,10,100,35,t),k("LIITU MNGUGA",e,C(80),"#ffffff",N(40),!0);const i=r.gamesList;if(r.connectionError&&k(r.connectionError,e,C(130),"#ff6666",N(18),!0),i.length===0)k("Mnge pole saadaval",e,C(200),"#b4b4b4",N(24),!0),k("Vrskendamiseks puudutage nuppu Vrskenda",e,C(240),"#787878",N(18),!0);else{k("Vali mng:",e,C(160),"#ffffff",N(20),!0);let s=C(190);i.forEach((o,a)=>{const l=a===r.menuSelectedIndex,u=l?"#ffff00":"#b4b4b4",c=`${o.name} (${o.playerCount}/${o.maxPlayers}) - ${o.hostName}`;if(l){const h=se.ui;qe(c,e,s,"#cccc00","#ffff00",N(20),h,!0)}else k(c,e,s,u,N(20),!0);s+=C(32)})}}function Xo(r){var o,a,l;m.fillStyle=wt,m.fillRect(0,0,R.windowWidth,R.windowHeight),at();const e=R.windowWidth/2;Ai(r),r.isHost?(k("MNGU HOSTIMINE",e,C(30),"#ffffff",N(36),!0),k(`Mng: ${r.gameName}`,e,C(70),"#b4b4b4",N(18),!0)):k("FUAJEE",e,C(30),"#ffffff",N(36),!0);const t=`Mngijad (${r.players.length}/${as}):`;k(t,Ie(40),C(100),"#ffffff",N(22),!1);let i=C(130);for(const u of r.players){const c=u.state===re.READY?"[VALMIS]":"[...]",h=u.isHost?" (HOST)":"",d=`${u.name}${h} ${c}`,_=u.id===r.playerId,p=_?"#ffff00":"#c8c8c8";if(_){const f=se.ui;qe(d,Ie(60),i,"#cccc00","#ffff00",N(20),f,!1)}else k(d,Ie(60),i,p,N(20),!1);i+=C(28)}const n=((o=Gt(r))==null?void 0:o.state)===re.READY?"Pole valmis":"Valmis",s=((a=r.buttonHighlightOpacity)==null?void 0:a.ready)||0;if(Ne(n,Re/2-130,340,120,40,s),r.isHost){const u=((l=r.buttonHighlightOpacity)==null?void 0:l.start)||0;Ne("Alusta",Re/2+10,340,100,40,u),nn(r)<Kt&&k(`Vaja ${Kt}+ valmis`,e,C(400),"#787878",N(16),!0)}else k("Ootan hosti...",e,C(400),"#787878",N(16),!0)}function qo(r){m.fillStyle=wt,m.fillRect(0,0,R.windowWidth,R.windowHeight),at();const e=R.windowWidth/2,t=Gt(r);if(t&&Me){const o=C(20),a=Ie(5),l=30,u=C(20);for(let c=0;c<t.lives;c++){const h=l+c*(o+a);m.globalAlpha=.3,m.drawImage(Me,h+De,u+De,o,o),m.globalAlpha=1,m.drawImage(Me,h,u,o,o)}}const i=se.combo;if(qe(r.currentCombo,e,C(120),"#bbbbbb","#ffffff",N(80),i,!0),si(r))jr(r.localInput,r.currentCombo,e,C(220),N(60));else{const o=cs(r);if(o){const a=`${o.name} kord`;k(a,e,C(250),"#b4b4b4",N(32),!0)}}const n=Math.max(0,r.turnTimer/r.turnDuration),s=ko()?C(185):C(330);Jr(e,s,C(15),n,1),r.wrongAnswerOpacity>0&&Rt("rgba(255, 0, 0, 1)",r.wrongAnswerOpacity),r.correctAnswerOpacity>0&&Rt("rgba(255, 255, 255, 1)",r.correctAnswerOpacity),r.timeoutOpacity>0&&Rt("rgba(180, 0, 0, 1)",r.timeoutOpacity)}function Jo(r){m.fillStyle=wt,m.fillRect(0,0,R.windowWidth,R.windowHeight),at();const e=R.windowWidth/2,t=Gt(r),i=se.combo;qe(r.currentCombo,e,C(100),"#bbbbbb","#ffffff",N(80),i,!0);const n=r.players.filter(o=>o.id!==r.playerId&&o.state===re.ALIVE);if(n.length===0)k("Ootan mngijaid...",e,R.windowHeight/2,"#b4b4b4",N(30),!0);else if(En&&$t&&Xt){const o=R.scale,a=150*o,l=C(280),u=-Math.PI*.4,c=Math.PI*.4,h=60*o,d=75*o;r.animTime%2,n.forEach((p,f)=>{const g=p.id===r.currentTurnPlayerId,T=n.length===1?.5:f/(n.length-1),b=u+T*(c-u),w=e+a*Math.sin(b),E=l+a*(1-Math.cos(b))*.5,y=g?d:h,x=se.ui,S=y/2;m.globalAlpha=60/255,m.fillStyle="#000000",m.beginPath(),m.arc(w+4,E+4,S,0,Math.PI*2),m.fill(),m.globalAlpha=1,m.beginPath(),m.arc(w,E,S,0,Math.PI*2),g?m.fillStyle="rgba(255, 255, 255, 1)":m.fillStyle="rgba(200, 200, 200, 0.78)",m.fill();const O=N(g?18:14);if(qe(p.name,w,E-O/2,"#222222","#444444",O,x,!0),Me&&p.lives>0){const L=g?16:14,D=2,B=p.lives*L+(p.lives-1)*D,Z=w-B/2,J=E-S-L-5;for(let Y=0;Y<p.lives;Y++){const j=Z+Y*(L+D);m.globalAlpha=80/255,m.drawImage(Me,j+De,J+De,L,L),m.globalAlpha=1,m.drawImage(Me,j,J,L,L)}}if(g&&p.currentInput){let P=p.currentInput;P.length>15&&(P=P.substring(0,15)+"..."),jr(P,r.currentCombo,w,E+S+10,N(30))}})}if(t&&Me){const o=C(20),a=Ie(5),l=30,u=C(20);for(let c=0;c<t.lives;c++){const h=l+c*(o+a);m.globalAlpha=.3,m.drawImage(Me,h+De,u+De,o,o),m.globalAlpha=1,m.drawImage(Me,h,u,o,o)}}const s=Math.max(0,r.turnTimer/r.turnDuration);Jr(e,C(420),C(15),s,1),r.wrongAnswerOpacity>0&&Rt("rgba(255, 0, 0, 1)",r.wrongAnswerOpacity),r.correctAnswerOpacity>0&&Rt("rgba(255, 255, 255, 1)",r.correctAnswerOpacity),r.timeoutOpacity>0&&Rt("rgba(180, 0, 0, 1)",r.timeoutOpacity)}function jo(r){var a,l,u;m.fillStyle=Do,m.fillRect(0,0,R.windowWidth,R.windowHeight);const e=R.windowWidth/2;if(r.showFailedCombos){if(k("Ebannestunud kombod",e,C(50),"#ffffff",N(35),!0),r.failedCombos.length===0)k("Ebannestunud kombosid pole!",e,C(150),"#88ff88",N(24),!0);else{const h=C(90),d=C(390);m.save(),m.beginPath(),m.rect(0,h,R.windowWidth,d-h),m.clip();const _=r.failedCombosScroll*R.scaleY;let p=C(100)-_;for(const T of r.failedCombos){if(p+C(72)>h&&p<d){k(T.combo,e,p,"#ff8888",N(28),!0);const b=T.exampleWords.join(", ");k(b,e,p+C(32),"#aaaaaa",N(18),!0)}p+=C(72)}m.restore();const f=r.failedCombos.length*72,g=300;if(f>g){const T=C(280),b=Math.max(C(30),T*(g/f)),w=f-g,E=w>0?r.failedCombosScroll/w:0,y=C(95)+(T-b)*E;m.fillStyle="rgba(255, 255, 255, 0.2)",m.fillRect(R.windowWidth-Ie(15),C(95),Ie(6),T),m.fillStyle="rgba(255, 255, 255, 0.5)",m.fillRect(R.windowWidth-Ie(15),y,Ie(6),b)}}const c=((a=r.buttonHighlightOpacity)==null?void 0:a.back)||0;Ne("Tagasi",Re/2-60,400,120,40,c);return}k("MNG LBI",e,C(60),"#ffffff",N(50),!0);const t=r.players.find(c=>c.state===re.ALIVE),i=se.ui;if(t){const c=`${t.name} VITIS!`;qe(c,e,C(130),"#cccc00","#ffff00",N(40),i,!0)}k("Lppskoorid:",e,C(200),"#b4b4b4",N(22),!0);let n=C(235);for(const c of r.players){const h=`${c.name}: ${c.score} p`;t&&c.id===t.id?qe(h,e,n,"#cccc00","#ffff00",N(20),i,!0):k(h,e,n,"#c8c8c8",N(20),!0),n+=C(26)}const s=r.players.length>1?"Tagasi fuajeesse":"Peamen",o=((l=r.buttonHighlightOpacity)==null?void 0:l.continue)||0;if(Ne(s,Re/2-90,360,180,45,o),r.failedCombos.length>0){const c=((u=r.buttonHighlightOpacity)==null?void 0:u.failed)||0;Ne("Vaata kombosid",Re/2-90,420,180,40,c)}}let U=null,We=null,je=null,_e=null,pe=null,Ke=null,Ve=null,ze=0,Oi="";const qn=3,Ko=5e3,Qo=15e3;document.addEventListener("visibilitychange",()=>{document.visibilityState==="visible"&&_e&&(!U||U.readyState===WebSocket.CLOSED||U.readyState===WebSocket.CLOSING?(console.log("Page visible, WebSocket not connected - reconnecting..."),U=null,Oi&&We&&(ze=0,On(Oi,We,je||void 0))):U.readyState===WebSocket.OPEN&&(console.log("Page visible, sending ping to verify connection..."),U.send(JSON.stringify({type:z.PING}))))});function On(r,e,t){Ke&&(clearTimeout(Ke),Ke=null),U&&(U.close(),U=null),pe&&(clearTimeout(pe),pe=null),Oi=r,We=e||null,je=t||null;const i=window.location.protocol==="https:"?"wss:":"ws:",n=r.startsWith("ws")?r:`${i}//${r}`;console.log(`Connecting to: ${n} (attempt ${ze+1}/${qn+1})`),_e&&(_e.connectionRetry=ze,_e.connectionError="");try{U=new WebSocket(n)}catch(s){console.error("Failed to create WebSocket:",s),_e&&(_e.connectionError="Failed to connect"),je&&je();return}pe=setTimeout(()=>{U&&U.readyState===WebSocket.CONNECTING&&(console.log("Connection timeout, closing..."),U.close())},Ko),U.onopen=()=>{console.log("Connected to server"),ze=0,pe&&(clearTimeout(pe),pe=null),Ve&&clearInterval(Ve),Ve=setInterval(()=>{U&&U.readyState===WebSocket.OPEN&&U.send(JSON.stringify({type:z.PING}))},Qo),We&&We()},U.onclose=()=>{console.log("Disconnected from server"),U=null,pe&&(clearTimeout(pe),pe=null),Ve&&(clearInterval(Ve),Ve=null),ze<qn&&We?(ze++,console.log("Retrying connection in 1 second..."),_e&&(_e.connectionRetry=ze),Ke=setTimeout(()=>{Ke=null,We&&On(r,We,je||void 0)},1e3)):(ze=0,_e&&(_e.connectionError="Connection failed"),je&&je())},U.onerror=s=>{console.error("WebSocket error:",s)},U.onmessage=s=>{if(_e)try{const o=JSON.parse(s.data);ea(_e,o)}catch(o){console.error("Failed to parse message:",o)}}}function Ge(){We=null,je=null,ze=0,Oi="",pe&&(clearTimeout(pe),pe=null),Ke&&(clearTimeout(Ke),Ke=null),Ve&&(clearInterval(Ve),Ve=null),U&&(U.close(),U=null)}function lt(r){U&&U.readyState===WebSocket.OPEN&&U.send(JSON.stringify(r))}function Zo(r){_e=r}function ea(r,e){switch(e.type){case z.JOIN_ACCEPT:r.playerId=e.playerId,r.gameId=e.gameId,r.connectionError="",r.phase=v.LOBBY_WAITING;break;case z.JOIN_REJECT:console.error("Join rejected:",e.reason),r.connectionError=e.reason||"Join rejected",r.phase=v.LOBBY_JOIN;break;case z.GAMES_LIST:r.gamesList=e.games;break;case z.PLAYER_LIST:r.players=e.players,r.hostId=e.hostId,r.isHost=e.hostId===r.playerId;break;case z.PLAYER_LEFT:r.players=r.players.filter(o=>o.id!==e.playerId);break;case z.GAME_START:r.currentTurnPlayerId=e.firstPlayerId,r.turnDuration=e.turnDuration,r.turnTimer=e.turnDuration,r.currentCombo=e.combo,r.localInput="";for(const o of r.players)o.state===re.READY&&(o.state=re.ALIVE,o.lives=ls,o.score=0);r.currentTurnPlayerId===r.playerId?(r.phase=v.PLAYING,Bt()):(r.phase=v.SPECTATING,Ce());break;case z.NEW_COMBO:r.currentCombo=e.combo;break;case z.TURN_START:r.currentTurnPlayerId=e.playerId,r.turnTimer=e.duration;const t=r.players.find(o=>o.id===r.playerId);t&&t.state===re.ALIVE&&(e.playerId===r.playerId?(r.phase=v.PLAYING,Bt()):(r.phase=v.SPECTATING,Ce()));break;case z.TURN_INPUT:const i=r.players.find(o=>o.id===e.playerId);i&&(i.currentInput=e.input);break;case z.TURN_RESULT:ta(r,e);break;case z.PLAYER_UPDATE:const n=r.players.find(o=>o.id===e.playerId);n&&(n.lives=e.lives,n.score=e.score,n.state=e.state);break;case z.PLAYER_ELIMINATED:const s=r.players.find(o=>o.id===e.playerId);s&&(s.state=re.ELIMINATED,e.playerId===r.playerId&&(r.phase=v.SPECTATING,Ce()));break;case z.GAME_OVER:r.phase=v.GAME_OVER,r.failedCombos=e.failedCombos||[],r.showFailedCombos=!1,Ce();break;case z.PONG:break;case z.ERROR:console.error("Server error:",e.message);break}}function ta(r,e){switch(e.result){case Wt.CORRECT:r.correctAnswerFlash=!0,r.correctAnswerOpacity=.15,r.pendingCorrectSound=!0,r.localInput="";break;case Wt.WRONG:case Wt.ALREADY_USED:r.wrongAnswerFlash=!0,r.wrongAnswerOpacity=0,r.wrongAnswerOpacityUp=!0,r.pendingWrongSound=!0,e.remainingTime!==void 0&&(r.turnTimer=e.remainingTime);return;case Wt.TIMEOUT:e.playerId===r.playerId&&(r.timeoutFlash=!0,r.timeoutOpacity=0,r.timeoutOpacityUp=!0,r.pendingWrongSound=!0),r.localInput="";break}r.currentCombo=e.newCombo,r.currentTurnPlayerId=e.nextPlayerId,r.turnTimer=r.turnDuration;const t=r.players.find(i=>i.id===r.playerId);t&&t.state===re.ALIVE&&r.phase!==v.GAME_OVER&&(e.nextPlayerId===r.playerId?(r.phase=v.PLAYING,Bt()):(r.phase=v.SPECTATING,Ce()))}function Kr(r,e){lt({type:z.CREATE_GAME,hostName:r,gameName:e})}function Qr(r,e){lt({type:z.JOIN_REQUEST,gameId:r,playerName:e})}function vn(){lt({type:z.LIST_GAMES})}function Zr(r){lt({type:z.PLAYER_READY,ready:r})}function es(){console.log("network.startGame() called"),lt({type:z.START_GAME_REQUEST})}function Ki(r){lt({type:z.TURN_INPUT,input:r})}function ts(r){lt({type:z.TURN_SUBMIT,word:r})}function is(){lt({type:z.RETURN_TO_LOBBY})}let He=null;const Qi=new Map;async function ia(){try{return He=new AudioContext,!0}catch(r){return console.error("Failed to initialize audio:",r),!1}}async function Yt(r,e){if(!He)return!1;try{const i=await(await fetch(e)).arrayBuffer(),n=await He.decodeAudioData(i);return Qi.set(r,{buffer:n,loaded:!0}),console.log(`Loaded sound: ${r}`),!0}catch(t){return console.error(`Failed to load sound ${r}:`,t),Qi.set(r,{buffer:null,loaded:!1}),!1}}function X(r,e=1){if(!He||r==="selection")return;const t=Qi.get(r);if(!t||!t.buffer)return;He.state==="suspended"&&He.resume();const i=He.createBufferSource(),n=He.createGain();i.buffer=t.buffer,n.gain.value=e,i.connect(n),n.connect(He.destination),i.start(0)}async function na(){await Promise.all([Yt("correct","/assets/sounds/correct.wav"),Yt("wrong","/assets/sounds/wrong.wav"),Yt("selection","/assets/sounds/selection.wav"),Yt("selected","/assets/sounds/selected.wav"),Yt("tick","/assets/sounds/tick.wav")])}const xe=640,Zi=480,ra={[v.MAIN_MENU]:{create:[220,212,200,50],join:[220,292,200,50]},[v.SERVER_CONNECT]:{back:[10,10,100,35],continue:[260,260,120,40]},[v.LOBBY_CREATE]:{back:[10,10,100,35],create:[260,260,120,40]},[v.LOBBY_JOIN]:{back:[10,10,100,35],refresh:[530,10,100,35]},[v.LOBBY_WAITING]:{back:[10,10,100,35],ready:[190,340,120,40],start:[330,340,100,40]},[v.GAME_OVER]:{continue:[230,360,180,45],failed:[230,420,180,40],back:[260,400,120,40]}};function en(r,e,t){const i=ra[r];if(!i)return null;for(const[n,[s,o,a,l]]of Object.entries(i))if(e>=s&&e<=s+a&&t>=o&&t<=o+l)return n;return null}const Jn={:"",:"",:"",:"",:"",:""};let ie=null;function Sn(r){let e="";for(const t of r)Jn[t]?e+=Jn[t]:e+=t.toUpperCase();return e}function ns(r){const e=Sn(r);return!!(e.length===1&&e>="A"&&e<="Z"||"".includes(e))}function sa(r){document.addEventListener("keydown",i=>pa(i,r)),ie=document.createElement("input"),ie.id="hidden-input",ie.style.cssText="position: fixed; top: 0; left: -9999px; opacity: 0;",ie.setAttribute("autocomplete","off"),ie.setAttribute("autocapitalize","characters"),ie.setAttribute("autocorrect","off"),ie.setAttribute("spellcheck","false"),ie.setAttribute("type","text"),document.body.appendChild(ie),ie.addEventListener("input",i=>{const n=i.target,s=n.value;n.value="",oa(r,s)}),ie.addEventListener("keydown",i=>{i.key==="Enter"&&(i.preventDefault(),r.phase===v.PLAYING&&si(r)&&r.localInput.length>0&&ts(r.localInput))});const e=document.getElementById("game");e.addEventListener("click",i=>aa(i,r,e)),e.addEventListener("touchstart",i=>{const n=i.touches[0],s=e.getBoundingClientRect(),o=n.clientX-s.left,a=n.clientY-s.top,l=o/s.width*xe,u=a/s.height*Zi,c=en(r.phase,l,u);r.pressedButton=c}),e.addEventListener("touchend",i=>{i.preventDefault();const n=i.changedTouches[0],s=e.getBoundingClientRect(),o=n.clientX-s.left,a=n.clientY-s.top;r.menuPressedIndex=-1,r.pressedButton=null,rs(r,o,a,s.width,s.height)}),e.addEventListener("touchcancel",()=>{r.menuPressedIndex=-1,r.pressedButton=null}),e.addEventListener("mousemove",i=>{const n=e.getBoundingClientRect(),s=i.clientX-n.left,o=i.clientY-n.top,a=s/n.width*xe,l=o/n.height*Zi;r.pressedButton=en(r.phase,a,l)}),e.addEventListener("mouseleave",()=>{r.menuPressedIndex=-1,r.pressedButton=null}),e.addEventListener("wheel",i=>{if(r.phase===v.GAME_OVER&&r.showFailedCombos){i.preventDefault();const n=Math.max(0,r.failedCombos.length*72-300);r.failedCombosScroll=Math.max(0,Math.min(n,r.failedCombosScroll+i.deltaY))}},{passive:!1});let t=0;e.addEventListener("touchstart",i=>{r.phase===v.GAME_OVER&&r.showFailedCombos&&(t=i.touches[0].clientY)},{passive:!0}),e.addEventListener("touchmove",i=>{if(r.phase===v.GAME_OVER&&r.showFailedCombos){const n=t-i.touches[0].clientY;t=i.touches[0].clientY;const s=Math.max(0,r.failedCombos.length*72-300);r.failedCombosScroll=Math.max(0,Math.min(s,r.failedCombosScroll+n))}},{passive:!0})}function oa(r,e){if(r.phase===v.PLAYING&&si(r))for(const t of e)ns(t)&&(r.localInput+=Sn(t),Ki(r.localInput));else if(r.phase===v.SERVER_CONNECT)for(const t of e)r.playerName.length<16&&/[a-zA-Z0-9_\- ]/.test(t)&&(r.playerName+=t);else if(r.phase===v.LOBBY_CREATE)for(const t of e)r.gameName.length<20&&/[a-zA-Z0-9_\- ]/.test(t)&&(r.gameName+=t)}function aa(r,e,t){const i=t.getBoundingClientRect(),n=r.clientX-i.left,s=r.clientY-i.top;rs(e,n,s,i.width,i.height)}const fi=10;function ae(r,e,t,i,n,s){return r>=t-fi&&r<=t+n+fi&&e>=i-fi&&e<=i+s+fi}function rs(r,e,t,i,n){const s=i/xe,o=n/Zi,a=e/s,l=t/o;switch(r.phase){case v.MAIN_MENU:la(r,a,l);break;case v.SERVER_CONNECT:ua(r,a,l);break;case v.LOBBY_CREATE:ca(r,a,l);break;case v.LOBBY_JOIN:fa(r,a,l);break;case v.LOBBY_WAITING:ha(r,a,l);break;case v.PLAYING:case v.SPECTATING:da(r,a,l);break;case v.GAME_OVER:_a(r,a,l);break}}function la(r,e,t){const i=en(v.MAIN_MENU,e,t);i==="create"?(X("selected",.5),r.joiningGame=!1,r.phase=v.SERVER_CONNECT):i==="join"&&(X("selected",.5),r.joiningGame=!0,r.phase=v.SERVER_CONNECT)}function ss(r){const i=`${window.location.hostname||"localhost"}:8080`;r.serverAddress=i,r.connectionRetry=0,r.connectionError="",r.phase=v.CONNECTING,On(i,()=>{r.connected=!0,r.joiningGame?(r.phase=v.LOBBY_JOIN,vn()):r.phase=v.LOBBY_CREATE},()=>{r.connected=!1,r.phase=v.MAIN_MENU,r.players=[]})}function ua(r,e,t){const i=xe/2;if(ae(e,t,10,10,70,35)){r.phase=v.MAIN_MENU,X("selected",.5);return}if(ae(e,t,0,185,xe,40)){Bt();return}if(ae(e,t,i-60,260,120,40)){r.playerName.length>0&&(X("selected",.5),Ce(),ss(r));return}Ce()}function ca(r,e,t){const i=xe/2;if(ae(e,t,10,10,70,35)){Ge(),r.phase=v.MAIN_MENU,X("selected",.5);return}if(ae(e,t,0,185,xe,40)){Bt();return}if(ae(e,t,i-60,260,120,40)){r.gameName.length>0&&(X("selected",.5),Ce(),Kr(r.playerName,r.gameName));return}Ce()}function fa(r,e,t){if(ae(e,t,10,10,70,35)){Ge(),r.connectionError="",r.phase=v.MAIN_MENU,X("selected",.5);return}if(ae(e,t,xe-90,10,80,35)){r.connectionError="",vn(),X("selected",.5);return}const i=r.gamesList,n=190,s=32;for(let o=0;o<i.length;o++){const a=n+o*s;if(ae(e,t,0,a,xe,s)){r.menuSelectedIndex=o,X("selected",.5),Qr(i[o].id,r.playerName);return}}}function ha(r,e,t){const i=xe/2;if(ae(e,t,10,10,70,35)){Ge(),r.phase=v.MAIN_MENU,r.players=[],X("selected",.5);return}if(ae(e,t,i-110,340,100,40)){const n=Gt(r);if(n){const s=n.state!==re.READY;Zr(s),X("selected",.5)}return}if(r.isHost&&ae(e,t,i+10,340,100,40)){nn(r)>=Kt&&(es(),X("selected",.5));return}}function da(r,e,t){if(si(r)&&ae(e,t,0,190,xe,70)){Bt();return}Ce()}function _a(r,e,t){const i=xe/2;if(r.showFailedCombos){if(ae(e,t,i-60,400,120,40)){X("selected",.5),r.showFailedCombos=!1;return}return}if(ae(e,t,i-80,360,160,45)){if(X("selected",.5),r.players.length>1){is(),r.phase=v.LOBBY_WAITING;for(const n of r.players)n.state=re.CONNECTED}else Ge(),r.phase=v.MAIN_MENU,r.players=[];return}if(r.failedCombos.length>0&&ae(e,t,i-100,420,200,40)){X("selected",.5),r.showFailedCombos=!0,r.failedCombosScroll=0;return}Ce()}function Bt(){ie&&ie.focus()}function Ce(){ie&&ie.blur()}function pa(r,e){const t=document.activeElement===ie;if(["ArrowUp","ArrowDown","ArrowLeft","ArrowRight","Enter","Escape","Backspace"].includes(r.key)&&r.preventDefault(),!(t&&r.key.length===1&&!r.ctrlKey&&!r.metaKey))switch(e.phase){case v.MAIN_MENU:ga(r);break;case v.SERVER_CONNECT:ma(r,e);break;case v.LOBBY_CREATE:ya(r,e);break;case v.LOBBY_JOIN:Ta(r,e);break;case v.LOBBY_WAITING:ba(r,e);break;case v.PLAYING:case v.SPECTATING:wa(r,e);break;case v.GAME_OVER:Ea(r,e);break}}function ga(r,e){r.key}function ma(r,e){if(r.key==="Escape"){e.phase=v.MAIN_MENU;return}if(r.key==="Backspace"){e.playerName.length>0&&(e.playerName=e.playerName.slice(0,-1));return}if(r.key==="Enter"&&e.playerName.length>0){ss(e);return}if(r.key.length===1&&!r.ctrlKey&&!r.metaKey){const t=r.key;e.playerName.length<16&&/[a-zA-Z0-9_\- ]/.test(t)&&(e.playerName+=t)}}function ya(r,e){if(r.key==="Escape"){Ge(),e.phase=v.MAIN_MENU;return}if(r.key==="Backspace"){e.gameName.length>0&&(e.gameName=e.gameName.slice(0,-1));return}if(r.key==="Enter"&&e.gameName.length>0){Kr(e.playerName,e.gameName);return}r.key.length===1&&!r.ctrlKey&&!r.metaKey&&e.gameName.length<20&&/[a-zA-Z0-9_\- ]/.test(r.key)&&(e.gameName+=r.key)}function Ta(r,e){if(r.key==="Escape"){Ge(),e.phase=v.MAIN_MENU;return}const t=e.gamesList;if(r.key==="ArrowUp")e.menuSelectedIndex=Math.max(0,e.menuSelectedIndex-1),X("selection",.3);else if(r.key==="ArrowDown")e.menuSelectedIndex=Math.min(t.length-1,e.menuSelectedIndex+1),X("selection",.3);else if(r.key==="Enter"&&t.length>0){const i=t[e.menuSelectedIndex];i&&(Qr(i.id,e.playerName),X("selected",.5))}else(r.key==="r"||r.key==="R")&&vn()}function ba(r,e){if(r.key==="Escape"){Ge(),e.phase=v.MAIN_MENU,e.players=[];return}if(r.key==="r"||r.key==="R"){const t=Gt(e);if(t){const i=t.state!==re.READY;Zr(i),X("selected",.5)}}if(r.key==="Enter"&&e.isHost){const t=nn(e);console.log("Enter pressed, readyCount:",t,"MIN_PLAYERS:",Kt),t>=Kt&&(console.log("Starting game via Enter..."),es(),X("selected",.5))}}function wa(r,e){if(r.key==="Escape"){Ge(),e.phase=v.MAIN_MENU,e.players=[];return}if(si(e)){if(r.key==="Backspace"){if(e.localInput.length>0){const i=e.localInput.slice(-1).charCodeAt(0)>127;e.localInput=e.localInput.slice(0,-1),Ki(e.localInput)}return}if(r.key==="Enter"){e.localInput.length>0&&ts(e.localInput);return}r.key.length===1&&!r.ctrlKey&&!r.metaKey&&ns(r.key)&&(e.localInput+=Sn(r.key),Ki(e.localInput))}}function Ea(r,e){if(r.key==="Escape"){Ge(),e.phase=v.MAIN_MENU,e.players=[];return}if(r.key==="Enter")if(e.players.length>1){is(),e.phase=v.LOBBY_WAITING;for(const t of e.players)t.state=re.CONNECTED}else Ge(),e.phase=v.MAIN_MENU,e.players=[]}let I,tn=0,Di=-1;async function Oa(){if(I=us(),!Go()){console.error("Failed to initialize renderer");return}await ia(),await na(),sa(I),Ro(),tn=performance.now(),requestAnimationFrame(os)}function os(r){const e=(r-tn)/1e3;tn=r,va(e),zo(I),requestAnimationFrame(os)}function va(r){if(Zo(I),I.animTime+=r,I.menuTransitionTime+=r,I.phase===v.PLAYING||I.phase===v.SPECTATING){const e=Math.ceil(I.turnTimer);I.turnTimer-=r,I.turnTimer<0&&(I.turnTimer=0);const t=Math.ceil(I.turnTimer);t!==e&&t>0&&t!==Di&&(X("tick",1),Di=t)}else Di=-1;Sa(r),xa(r),Aa(r),Ia(r),I.pendingCorrectSound&&(X("correct",.5),I.pendingCorrectSound=!1),I.pendingWrongSound&&(X("wrong",.5),I.pendingWrongSound=!1)}function Sa(r){if(!I.wrongAnswerFlash)return;const e=r*1;I.wrongAnswerOpacityUp?(I.wrongAnswerOpacity+=e,I.wrongAnswerOpacity>=.15&&(I.wrongAnswerOpacity=.15,I.wrongAnswerOpacityUp=!1)):(I.wrongAnswerOpacity-=e*.5,I.wrongAnswerOpacity<=0&&(I.wrongAnswerOpacity=0,I.wrongAnswerFlash=!1,I.wrongAnswerOpacityUp=!0))}function xa(r){if(!I.correctAnswerFlash)return;const e=r*.3;I.correctAnswerOpacity-=e,I.correctAnswerOpacity<=0&&(I.correctAnswerOpacity=0,I.correctAnswerFlash=!1)}function Aa(r){if(!I.timeoutFlash)return;const e=r*1.5;I.timeoutOpacityUp?(I.timeoutOpacity+=e,I.timeoutOpacity>=.6&&(I.timeoutOpacity=.6,I.timeoutOpacityUp=!1)):(I.timeoutOpacity-=e,I.timeoutOpacity<=0&&(I.timeoutOpacity=0,I.timeoutFlash=!1,I.timeoutOpacityUp=!0))}function Ia(r){const e=r*8;for(let t=0;t<I.menuHighlightOpacity.length;t++)t===I.menuPressedIndex?I.menuHighlightOpacity[t]=Math.min(1,I.menuHighlightOpacity[t]+e):I.menuHighlightOpacity[t]=Math.max(0,I.menuHighlightOpacity[t]-e);for(const t of Object.keys(I.buttonHighlightOpacity))t===I.pressedButton?I.buttonHighlightOpacity[t]=Math.min(1,I.buttonHighlightOpacity[t]+e):I.buttonHighlightOpacity[t]=Math.max(0,I.buttonHighlightOpacity[t]-e);I.pressedButton&&!(I.pressedButton in I.buttonHighlightOpacity)&&(I.buttonHighlightOpacity[I.pressedButton]=0)}Oa().catch(console.error);
